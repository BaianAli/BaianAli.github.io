!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="438cb997-24b0-46c5-98a7-c19e45641454",e._sentryDebugIdIdentifier="sentry-dbid-438cb997-24b0-46c5-98a7-c19e45641454")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"6af6db66"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5265],{17377:function(e,t,n){n.d(t,{_:function(){return x}});var r=n(42516),a=n(41733),l=n(30509),i=n(66626),o=n(74985),u=n(28079),s=n(25770),c=n(75209),d=n(30983),g=n(56596),p=n(93918),f=n(29287),m=n(33988),v=n.n(m),h=n(50959),y=n(93302),B=n(2161),U=n(74833),b=(0,p.X)({self:[f.l0.rowWithGap(8),f.l0.align.center],dot:[f.l0.width(8),f.l0.height(8),{borderRadius:"50%"}],title:[f.l0.flex.grow(1)]}),Z=function(e){var t=e.title,n=e.usage,r=e.resourceUsageType,a=e.iconUrl;return(0,o.BX)(g.G,{css:b.self,children:["string"==typeof a?(0,o.tZ)(B.ZP,{size:16,iconUrl:a,alt:t}):null,(0,o.tZ)(U.xv,{css:b.title,multiline:!1,children:t}),(0,o.tZ)(U.xv,{color:"dimmer",multiline:!1,children:(0,y.fZ)(n,{resourceUsageType:r,gibsDisplayAsBytes:!0})})]})},_=(0,p.X)({self:[f.l0.height("100%")],empty:[f.l0.height("100%")]}),w=g.K.a,x=function(e){var t=e.percentage,n=e.color,g=e.linkedRepl,p=e.count,f=e.usage,m=e.resourceUsageType,y=g?(0,s.aq)(g):u.$I,B=(0,i._)((0,h.useState)(!1),2),U=B[0],b=B[1];return(0,o.tZ)(d.u,{tooltip:g?(0,o.tZ)(Z,{title:g.title,usage:f,resourceUsageType:m,iconUrl:g.iconUrl}):(0,o.tZ)(Z,{title:"+".concat(p," more"),usage:f,resourceUsageType:m}),placement:"top",delay:"none",isOpen:U,maxWidth:400,children:function(e,i){return(0,o.tZ)(v(),(0,l._)((0,a._)({legacyBehavior:!0},y),{passHref:!0,children:(0,o.tZ)(w,{onMouseOver:function(){return b(!0)},onMouseLeave:function(){return b(!1)},ref:i,css:_.self,style:(0,r._)({minWidth:"calc(".concat(100*c.$,"%)"),width:"calc(".concat(t,"% - 0.9px)"),backgroundColor:n},"&:lastOfType",{width:"".concat(t,"%")})})}))}})}},75928:function(e,t,n){n.d(t,{X:function(){return z},$:function(){return L}});var r=n(66626),a=n(63257),l=n(74985),i=n(75209),o=function(e,t){if("workspace_info_modal"!==t.type)return[e.slice(0,8),e.slice(8)];var n=e.findIndex(function(e){var n;return(null===(n=e.repl)||void 0===n?void 0:n.id)===t.replId});if(n<8)return[e.slice(0,8),e.slice(8)];var r=e[n];return[e.slice(0,8).concat(r),e.slice(8,n).concat(e.slice(n+1))]},u=n(6246),s=n(68514),c=n(15146),d=n(8279),g=n(56596),p=n(93918),f=n(99741),m=n(67313),v=n(29287),h=n(50959),y=n(17377),B=n(74833),U=n(42516),b=n(41733),Z=n(30509),_=n(25770),w=n(93302),x=n(2161),S=n(49996),G=n(5542),T=n(33988),k=n.n(T),C=(0,p.X)({self:[v.l0.rowWithGap(8),v.l0.align.center],dot:[v.l0.flex.grow(1),v.l0.width(8),v.l0.height(8),v.l0.minWidth(8),v.l0.maxHeight(8),{borderRadius:"50%"}],title:[v.l0.flex.grow(1),v.l0.color.foregroundDefault,(0,U._)({},(0,S.EM)("mobileMax"),[v.l0.flex.shrink(1),v.l0.truncate])],line:[v.l0.flex.growAndShrink(1),v.l0.height(8),v.l0.width("100%"),(0,U._)({},(0,S.EM)("mobileMax"),[v.l0.flex.shrink(4)])]}),P=g.K.a,R=g.K.li,I=function(e){var t=e.color,n=e.title,r=e.usage,a=e.resourceUsageType,i=e.linkedRepl,o=e.username,u=i?(0,_.aq)(i):(0,G.Ru)(o);return(0,l.tZ)(R,{children:(0,l.tZ)(k(),(0,Z._)((0,b._)({legacyBehavior:!0},u),{passHref:!0,children:(0,l.tZ)(P,{children:(0,l.BX)(g.G,{css:C.self,children:[(0,l.tZ)("div",{css:C.dot,style:{backgroundColor:t}}),i?(0,l.tZ)(x.ZP,{size:16,iconUrl:i.iconUrl,alt:n}):null,(0,l.tZ)(B.xv,{css:C.title,multiline:!1,children:n}),(0,l.tZ)(g.G,{css:C.line,children:(0,l.tZ)("svg",{width:"100%",xmlns:"http://www.w3.org/2000/svg",children:(0,l.tZ)("line",{x1:"0%",y1:"50%",x2:"100%",y2:"50%",stroke:v.TV.outlineDefault})})}),(0,l.tZ)(B.xv,{color:"dimmer",multiline:!1,children:(0,w.fZ)(r,{resourceUsageType:a})})]})})}))})},V=(0,p.X)({self:[v.l0.colWithGap(4)]}),D=g.K.ul,E=function(e){var t=e.topRepls,n=e.groupedRepls,r=e.groupedTotal,a=e.context,o=e.username,u=e.resourceUsageType;if("workspace_info_modal"===a.type){var s=t.findIndex(function(e){return e.repl.id===a.replId});return -1===s?(0,l.tZ)(g.G,{css:V.self,children:(0,l.tZ)(B.xv,{multiline:!1,children:"No storage usage"})}):(0,l.BX)(D,{css:V.self,children:[t.map(function(e,t){return(0,l.tZ)(I,{color:t===s?v.TV.accentPrimaryDefault:v.TV.accentPrimaryDimmer,title:e.repl.title,usage:e.usage,resourceUsageType:u,linkedRepl:e.repl,username:o},t)}),0!==n.length?(0,l.tZ)(I,{color:v.TV.backgroundHighest,title:"+".concat(n.length," more"),usage:r,resourceUsageType:u,username:o}):null]})}return(0,l.BX)(D,{css:V.self,children:[0===t.length?(0,l.tZ)(B.xv,{multiline:!1,children:"No resource usage"}):null,t.map(function(e,t){return(0,l.tZ)(I,{color:i.D[t%i.D.length],title:e.repl.title,usage:e.usage,resourceUsageType:u,linkedRepl:e.repl,username:o},t)}),0!==n.length?(0,l.tZ)(I,{color:i.D[t.length%i.D.length],title:"+".concat(n.length," more"),usage:r,resourceUsageType:u,username:o}):null]})},M=[v.l0.width("100%"),v.l0.rowWithGap(1),v.l0.height(16),v.l0.borderRadius(4),v.l0.overflow("hidden"),v.l0.backgroundColor.backgroundHigher],A={small:(0,p.X)({bar:[M,v.l0.height(10)]}),base:(0,p.X)({bar:[M,v.l0.height(16)]})},X=(0,p.X)({selfPlaceholder:[v.l0.width("100%"),v.l0.rowWithGap(1),v.l0.height(16),v.l0.borderRadius(4),v.l0.overflow("hidden"),v.l0.backgroundColor.backgroundHigher,d.p.backgroundPulse(v.TV.backgroundHigher,v.TV.backgroundRoot)],barWrapper:[v.l0.flex.grow(1)],barAndTriggerWrapper:[v.l0.rowWithGap(8),v.l0.align.center],self:[v.l0.colWithGap(8),v.l0.flex.growAndShrink(1)]}),L=function(e){var t=e.summary,n=e.context,d=e.username,p=e.resourceUsageType,B=e.overageSummary,U=e.small,b=U?A.small:A.base,Z=U?12:24,_=(0,r._)((0,h.useState)(!1),2),w=_[0],x=_[1],S=t.perRepl,G=Math.max(t.total,t.limit),T=(0,a._)(S).filter(function(e){return e.percentage>0}).sort(function(e,t){return t.usage-e.usage}),k=(0,r._)(o(T,n),2),C=k[0],P=k[1],R=C.filter(function(e){return null!==e.repl&&void 0!==e.repl}),I=P.filter(function(e){return null!==e.repl&&void 0!==e.repl}),V=new Map(R.map(function(e){return[e.repl.id,e]})),D=I.reduce(function(e,t){return e+t.usage},0),M=0===G?0:D/G,L=new Set(I.map(function(e){var t;return null===(t=e.repl)||void 0===t?void 0:t.id})),z=(0,u.b)(R,M,L),F="workspace_info_modal"===n.type,N="cycles_page"===n.type?v.TV.backgroundHighest:v.TV.backgroundHigher,Y=(0,l.tZ)(c.hU,{alt:w?"Hide Repls":"Show Repls",size:Z,children:w?(0,l.tZ)(m.Z,{onClick:function(){return x(!w)},size:Z}):(0,l.tZ)(f.Z,{onClick:function(){return x(!w)},size:Z})}),$=z.length>0;return(0,l.BX)(g.G,{css:X.self,children:[(0,l.BX)(g.G,{css:X.barAndTriggerWrapper,children:[B||(0,l.tZ)(g.G,{css:X.barWrapper,children:(0,l.tZ)(g.G,{css:b.bar,style:{backgroundColor:N},children:z.map(function(e,t){var r,a=V.get(W(e));return(0,l.tZ)(y._,{percentage:100*e.percentage,color:F?H(e,n.replId):i.D[t%i.D.length],linkedRepl:null==a?void 0:a.repl,count:e.replIds.size,usage:null!==(r=null==a?void 0:a.usage)&&void 0!==r?r:D,resourceUsageType:p},t)})})}),$?Y:null]}),$&&w?(0,l.BX)(l.HY,{children:[(0,l.tZ)(E,{topRepls:R,groupedRepls:I,groupedTotal:D,context:n,username:d,resourceUsageType:p}),F?(0,l.tZ)(s.R,{}):null]}):null]})},z=function(){return(0,l.tZ)(g.G,{children:(0,l.tZ)(g.G,{css:X.selfPlaceholder})})},H=function(e,t){return e.replIds.has(t)?v.TV.accentPrimaryDefault:v.TV.accentPrimaryDimmest},W=function(e){return e.replIds.keys().next().value}},75209:function(e,t,n){n.d(t,{$:function(){return a},D:function(){return r}});var r=n(29287).tX.categorical,a=.0075},6246:function(e,t,n){n.d(t,{K:function(){return a},b:function(){return l}});var r=n(75209);function a(e){return"deleted_".concat(e)}var l=function(e,t,n){var l=[],i=0;e.forEach(function(e,t){var n,o,u=Math.max(e.percentage,r.$),s=u-e.percentage;0!==s&&(i+=s),l.push({percentage:u,adjusted:0!==s,grouped:!1,replIds:new Set([null!==(o=null===(n=e.repl)||void 0===n?void 0:n.id)&&void 0!==o?o:a(t)])})});var o=0===t?0:Math.max(t,r.$);if(o>0){var u=o-t;u>0&&(i+=u),l.push({percentage:o,adjusted:u>0,grouped:!0,replIds:n})}if(i>0){var s=l.filter(function(e){return!e.adjusted}),c=s.length;if(c>0){var d=i/c,g=!0,p=!1,f=void 0;try{for(var m,v=s[Symbol.iterator]();!(g=(m=v.next()).done);g=!0){var h=m.value;h.percentage-=d}}catch(e){p=!0,f=e}finally{try{g||null==v.return||v.return()}finally{if(p)throw f}}}}return l}},32078:function(e,t,n){n.d(t,{_4:function(){return i},lc:function(){return g}});var r=n(41733),a=n(30509),l=n(40028),i=function(e){switch(e.__typename){case"AccountStorageUtilization":return o(e);case"MonthlyEgressSummary":return u(e);case"UsageOverviewUnitPriceSku":return c(e);case"UsageOverviewMatrixPriceSku":return d(e);case"UsageOverviewStaticDeployments":return s(e);default:(0,l.Z)(e)}},o=function(e){var t=e.total,n=e.perRepl,r=e.quota,a=e.percentagesDisplayedUsingTotal;return{total:Number(t),limit:Number(r),perRepl:a?h(n,Number(t)):n.map(p)}},u=function(e){var t=e.usage,n=e.limit,r=e.perRepl;return{total:Number(t),limit:Number(n),perRepl:r.map(p)}},s=function(e){var t=e.replUsageOverview;return{total:e.usage,limit:e.allotment,perRepl:t.map(f)}},c=function(e){var t=e.replUsageOverview;return{total:e.usage,limit:e.allotment,perRepl:t.map(v)}},d=function(e){var t=e.replUsageOverview,n=e.tierType;return{total:0,limit:0,perRepl:t.map(function(e){return m(e,n)})}};function g(e){var t=e.billingPeriodSummary,n=e.billableMetric,r={total:0,limit:0,perRepl:[]};if(null==t)return r;var a=t.totals.find(function(e){return e.billableMetric===n});if(null==a)return r;var l=[],i=!0,o=!1,u=void 0;try{for(var s,c=t.perRepl[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var d=s.value,g=d.usage.find(function(e){return e.billableMetric===n});if(null!=g){var p={usage:g.usage,percentage:g.percentage,repl:d.repl};l.push(p)}}}catch(e){o=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}return r.total=a.usage,r.limit=a.freeUnits,r.perRepl=l,r}var p=function(e){return(0,a._)((0,r._)({},e),{usage:Number(e.usage)})},f=function(e){var t,n,r;return{usage:e.usage,percentage:e.percentage,repl:e.repl,lastDeployedAt:(null===(n=e.repl)||void 0===n?void 0:null===(t=n.hostingDeployment)||void 0===t?void 0:t.__typename)==="HostingDeployment"?null===(r=e.repl)||void 0===r?void 0:r.hostingDeployment.currentBuild.timeCreated:void 0}},m=function(e,t){return{usage:e.usage,percentage:e.percentage,repl:e.repl,matrixTier:{label:e.configName,type:t}}},v=function(e){return{usage:e.usage,percentage:e.percentage,repl:e.repl}},h=function(e,t){return e.map(function(e){return(0,a._)((0,r._)({},e),{percentage:0===t?0:Number(e.usage)/t,usage:Number(e.usage)})})}},93302:function(e,t,n){n.d(t,{$s:function(){return s},G$:function(){return a},fZ:function(){return l},p6:function(){return u}});var r=n(40028),a=.01,l=function(e,t){var n=t.resourceUsageType,r=t.forceGib,a=t.precision,l=t.skipUnits,i=t.additional,u=t.minimumValue,s=t.truncateToMillions,c=t.gibsDisplayAsBytes,d=o({input:e,resourceUsageType:n,forceGib:void 0!==r&&r,precision:void 0===a?4:a,minimumValue:void 0===u?null:u,truncateToMillions:void 0!==s&&s,gibsDisplayAsBytes:void 0!==c&&c});return void 0!==l&&l?d.formattedValue:void 0!==i&&i?[d.formattedValue,"additional",d.units].join(" "):[d.formattedValue,d.units].join(" ")};function i(e,t){var n=t.precision,r=t.minimumValue,a=t.forceGib,l=r&&0!==e;return e>=1073741824*(null!=r?r:1)||a?l&&e<1073741824*r?{formattedValue:"<".concat(r.toLocaleString(void 0,{minimumFractionDigits:n})),units:"GiB"}:{formattedValue:s(e).toFixed(n),units:"GiB"}:l&&e<1048576*r?{formattedValue:"<".concat(r.toLocaleString(void 0,{minimumFractionDigits:n})),units:"MiB"}:{formattedValue:u(e).toFixed(n),units:"MiB"}}var o=function(e){var t=e.input,n=e.resourceUsageType,a=e.forceGib,l=e.precision,o=e.minimumValue,u=e.truncateToMillions,s=e.gibsDisplayAsBytes,c=o&&0!==t&&t<o;switch(n){case"Bytes":return i(t,{precision:l,minimumValue:o,forceGib:a});case"GiB":if(0===t)return{formattedValue:t.toFixed(l),units:"GiB"};if(s)return i(1073741824*t,{precision:l,minimumValue:o,forceGib:!1});if(c)return{formattedValue:"<".concat(o.toLocaleString(void 0,{minimumFractionDigits:l})),units:"GiB"};return{formattedValue:t.toFixed(l),units:"GiB"};case"ComputeUnits":if(t>=1e6&&u)return{formattedValue:(t/1e6).toLocaleString(void 0,{maximumFractionDigits:t>=1e6&&u?2:0})+" million",units:"compute units"};return{formattedValue:t.toLocaleString(void 0,{maximumFractionDigits:0}),units:"compute units"};case"ComputeHours":return{formattedValue:t.toLocaleString(void 0,{maximumFractionDigits:0}),units:"compute hours"};case"Requests":if(t>=1e6&&u)return{formattedValue:(t/1e6).toLocaleString(void 0,{maximumFractionDigits:t>=1e6&&u?2:0})+" million",units:"requests"};return{formattedValue:t.toLocaleString(void 0,{maximumFractionDigits:0}),units:"requests"};case"Site":return{formattedValue:t.toLocaleString(void 0,{maximumFractionDigits:0}),units:"site"};case"Hours":return{formattedValue:t.toLocaleString(void 0,{maximumFractionDigits:2}),units:"hours"};default:(0,r.Z)(n)}},u=function(e){return e/1048576},s=function(e){return e/1073741824}},81340:function(e,t,n){n.d(t,{L:function(){return R}});var r=n(27387),a=n(66626),l=n(96583),i=n(74985),o=n(72310),u=n(41733),s=n(21262),c=n(71440),d=n(58995),g=n(99165);function p(){var e=(0,s._)(["\n  fragment CurrentUserUsageBasedBillingBudgetFragment on CurrentUser {\n    id\n    usageBasedBillingBudget {\n      ... on UsageBasedBillingBudget {\n        id\n        monthlyBudgetUsd\n        hasReachedBudget\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return p=function(){return e},e}function f(){var e=(0,s._)(["\n  query UsageBasedBillingBudgetCurrentUser {\n    currentUser {\n      id\n      ...CurrentUserUsageBasedBillingBudgetFragment\n      usageInterval {\n        ... on UsageInterval {\n          totalAmountUsd\n        }\n        ... on ServiceUnavailable {\n          message\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function m(){var e=(0,s._)(["\n  mutation UpdateUsageBasedBillingBudget(\n    $input: UpdateUsageBasedBillingBudgetInput!\n  ) {\n    updateUsageBasedBillingBudget(input: $input) {\n      ... on CurrentUser {\n        ...CurrentUserUsageBasedBillingBudgetFragment\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var v={},h=(0,c.Ps)(p()),y=(0,c.Ps)(f(),h),B=(0,c.Ps)(m(),h),U=n(1498),b=n(15146),Z=n(18836),_=n(8279),w=n(74833),x=n(56596),S=n(93918),G=n(52682),T=n(29287),k=n(50959),C=n(16560),P=(0,S.X)({rootContainer:[T.l0.colWithGap(12),T.l0.align.start],budgetInputContainer:[T.l0.rowWithGap(8),T.l0.align.center],budgetInput:[T.l0.maxWidth(T.TV.space80)],inputLoadingPlaceholder:[_.p.backgroundPulse(T.TV.outlineDimmest,T.TV.outlineDimmer),T.l0.width(T.TV.space128),T.l0.height(T.TV.space32),T.l0.borderRadius(8)],removeBudgetButton:[T.l0.height(T.TV.space32),T.l0.width(T.TV.space32)],errorText:[T.l0.color.accentNegativeStronger],saveButton:[T.l0.width(128)]});function R(e){var t,n,s,c,p,f,m=e.onUpdateSuccess,h=(0,a._)((0,k.useState)(null),2),_=h[0],S=h[1],T=(0,o.Y)(null,function(e){return null!=e&&e<C.M7?{message:"Monthly usage budget must be at least $".concat(C.M7)}:null!=e&&e%10!=0?{message:"Monthly usage budget must be a multiple of $10"}:void 0}),R=(0,a._)((0,k.useState)(null),2),I=R[0],V=R[1],D=(0,a._)((0,k.useState)(null),2),E=D[0],M=D[1],A=(t=(0,u._)({},v,{onCompleted:function(e){if((null===(n=e.currentUser)||void 0===n?void 0:null===(t=n.usageBasedBillingBudget)||void 0===t?void 0:t.__typename)==="UsageBasedBillingBudget"?(S(null!==(d=e.currentUser.usageBasedBillingBudget.monthlyBudgetUsd)&&void 0!==d?d:null),T.setValue(null!==(g=e.currentUser.usageBasedBillingBudget.monthlyBudgetUsd)&&void 0!==g?g:null),null!=m&&m()):(null===(a=e.currentUser)||void 0===a?void 0:null===(r=a.usageBasedBillingBudget)||void 0===r?void 0:r.__typename)==="UnauthorizedError"&&M(e.currentUser.usageBasedBillingBudget.message),(null===(l=e.currentUser)||void 0===l?void 0:l.usageInterval)&&(null===(i=e.currentUser)||void 0===i?void 0:i.usageInterval.__typename)==="UsageInterval"){var t,n,r,a,l,i,o,u,s,c,d,g;V(e.currentUser.usageInterval.totalAmountUsd)}else(null===(o=e.currentUser)||void 0===o?void 0:o.usageInterval)&&((null===(u=e.currentUser)||void 0===u?void 0:u.usageInterval.__typename)==="ServiceUnavailable"||(null===(s=e.currentUser)||void 0===s?void 0:s.usageInterval.__typename)==="UnauthorizedError"||(null===(c=e.currentUser)||void 0===c?void 0:c.usageInterval.__typename)==="UserError")&&M(e.currentUser.usageInterval.message)}}),d.a(y,t)).loading,X=(0,a._)((n=(0,u._)({},v,{onCompleted:function(e){var t;"CurrentUser"===e.updateUsageBasedBillingBudget.__typename&&(null===(t=e.updateUsageBasedBillingBudget.usageBasedBillingBudget)||void 0===t?void 0:t.__typename)==="UsageBasedBillingBudget"&&(S(e.updateUsageBasedBillingBudget.usageBasedBillingBudget.monthlyBudgetUsd),T.setValue(e.updateUsageBasedBillingBudget.usageBasedBillingBudget.monthlyBudgetUsd)),("UnauthorizedError"===e.updateUsageBasedBillingBudget.__typename||"UserError"===e.updateUsageBasedBillingBudget.__typename)&&M(e.updateUsageBasedBillingBudget.message)}}),g.D(B,n)),2),L=X[0],z=X[1].loading,H=_!==T.value,W=null!==(p=null===(c=T.error)||void 0===c?void 0:c.message)&&void 0!==p?p:null,F=null!==I&&null!==T.value&&T.value<=I?"You've already spent ".concat(I.toLocaleString("en-US",{style:"currency",currency:"USD"})," this billing period.\n  Increase your budget to avoid service interruption.\n  ").concat(H?" Saving your changes will suspend any active usage-based services.":""):null,N=null!==(f=null!=W?W:F)&&void 0!==f?f:null,Y=(s=(0,r._)(function(){var e,t,n;return(0,l.Jh)(this,function(r){switch(r.label){case 0:if(T.validate(),!T.isValid)return[2];return M(null),[4,L({variables:{input:{monthlyBudgetUsd:T.value}}})];case 1:if(t=(e=r.sent()).data,null!=(n=e.errors))return M(n[0].message),[2];if((null==t?void 0:t.updateUsageBasedBillingBudget.__typename)==="UnauthorizedError"||(null==t?void 0:t.updateUsageBasedBillingBudget.__typename)==="UserError")return M(t.updateUsageBasedBillingBudget.message),[2];return S(T.value),[2]}})}),function(){return s.apply(this,arguments)});return(0,i.BX)(x.G,{css:P.rootContainer,children:[(0,i.tZ)(w.xv,{variant:"subheadDefault",multiline:!1,children:"Monthly usage limit"}),(0,i.BX)(x.G,{css:P.budgetInputContainer,children:[A?(0,i.tZ)(x.G,{css:P.inputLoadingPlaceholder}):null,null!=T.value?(0,i.BX)(i.HY,{children:[(0,i.tZ)(Z.II,{value:T.value>0?"$".concat(T.value.toLocaleString()):"$",css:P.budgetInput,maxLength:8,onChange:function(e){var t=e.target.value.replace(/\D/g,"");if(""===t){T.setValue(0);return}var n=Number(t);T.setValue(n)}}),(0,i.tZ)(b.hU,{alt:"Remove monthly usage budget",css:P.removeBudgetButton,onClick:function(){T.setValue(null)},children:(0,i.tZ)(G.Z,{})})]}):null,A||null!=T.value?null:(0,i.tZ)(U.zx,{text:"Enable monthly usage budget",onClick:function(){return T.setValue(null!=_?_:100)}})]}),N?(0,i.tZ)(w.xv,{variant:"small",css:P.errorText,multiline:!0,children:N}):null,E?(0,i.tZ)(w.xv,{variant:"small",css:P.errorText,multiline:!0,children:E}):null,(0,i.tZ)(U.zx,{text:"Save",colorway:"primary",onClick:Y,loading:z,css:P.saveButton,disabled:A||z||null!=W||!H})]})}},89960:function(e,t,n){n.d(t,{t:function(){return S}});var r=n(41733),a=n(74985),l=n(38213),i=n(84460),o=n(88211),u=n(81340),s=n(25486),c=n(90777),d=n(1498),g=n(68514),p=n(15146),f=n(37951),m=n(56596),v=n(93918),h=n(52924),y=n(97615),B=n(88936),U=n(99656),b=n(20573),Z=n(29287),_=n(50959),w=n(87001),x=(0,v.X)({self:[Z.l0.colWithGap(16)],paymentMethodContainer:[Z.l0.colWithGap(16)],addPaymentMethodContainer:[Z.l0.colWithGap(6)],loadingContainer:[Z.l0.justify.center,Z.l0.align.center,Z.l0.minHeight(80)]});function S(e){var t=e.goToNewPaymentMethodForm,n=e.onPreferencesUpdated,v=e.showUsageSettingsBudget,S=(0,l.A)(),G=(0,s.U)(),T=G.loading,k=G.isOnTrialPlan,C=G.trialWillCancel,P=(0,c.Q)(),R=P.paymentMethod,I=P.loading,V=P.error,D=(0,i.kr)({defaultAutoRefillEnabledValue:!1,onAutoRefillPreferencesUpdated:function(){n&&n()}}).cardAutoRefillPreferencesProps,E=(0,_.useMemo)(function(){return k&&!C?(0,a.tZ)(f.E,{colorway:"primary",icon:(0,a.tZ)(y.Z,{}),text:(0,a.BX)(a.HY,{children:["Adding a payment method will set your Replit ",w.we," ","membership to auto-renew at the end of the trial."]})}):S?(0,a.tZ)(f.E,{colorway:"primary",icon:(0,a.tZ)(y.Z,{}),text:"Add a payment method to enable additional resource usage."}):(0,a.tZ)(f.E,{colorway:"warning",icon:(0,a.tZ)(b.Z,{}),text:"Add a payment method and enable Auto-Refill to prevent your Power Ups from being disabled when you run out of Cycles."})},[k,C,S]);return I||T||null!=V?(0,a.tZ)(m.G,{css:x.loadingContainer,children:(0,a.tZ)(B.Z,{})}):(0,a.BX)(m.G,{css:x.self,children:[null!=R?(0,a.BX)(m.G,{css:x.paymentMethodContainer,children:[(0,a.BX)(m.G,{css:[Z.l0.rowWithGap(8),Z.l0.align.center],children:[(0,a.tZ)(p.hU,{alt:"Update Payment Method",onClick:t,children:(0,a.tZ)(h.Z,{})}),(0,a.tZ)(o.R,{last4:R.last4})]}),v?(0,a.BX)(a.HY,{children:[(0,a.tZ)(g.R,{}),(0,a.tZ)(u.L,{})]}):null,S?null:(0,a.BX)(a.HY,{children:[(0,a.tZ)(g.R,{}),(0,a.tZ)(i.OK,(0,r._)({},D))]})]}):null," ",null==R?(0,a.BX)(m.G,{css:x.addPaymentMethodContainer,children:[E,(0,a.tZ)(d.zx,{text:"Add Payment Method",iconLeft:(0,a.tZ)(U.Z,{}),onClick:t})]}):null]})}},71411:function(e,t,n){n.d(t,{P:function(){return i}});var r=n(66626),a=n(63257),l=n(50959);function i(e){var t=(0,r._)((0,l.useState)(e),2),n=t[0],i=t[1],o=(0,r._)((0,l.useState)([]),2),u=o[0],s=o[1],c=(0,l.useCallback)(function(e){s((0,a._)(u).concat([n])),i(e)},[u,s,n,i]);return{currentStep:n,goTo:c,goBack:(0,l.useCallback)(function(){var e=u.pop();s(u),e&&i(e)},[u,s,i]),canGoBack:u.length>0}}},16166:function(e,t,n){n.d(t,{U:function(){return o}});var r=n(74985),a=n(38213),l=n(59868),i=n(1498),o=function(e){var t=e.isPro,n=e.setShowUpgradeModal,o=e.source;return(0,a.A)()?null:(0,r.tZ)(i.zx,{colorway:"primary",text:t?"Change Storage":"Upgrade Storage",onClick:function(){(0,l.j)(l.U3.UPGRADE_SELECTED,{source:o,isPro:t}),n(!0)}})}},85838:function(e,t,n){n.d(t,{q:function(){return v}});var r=n(74985),a=n(93918),l=n(20573),i=n(37951),o=n(29287),u=n(56596),s=n(42588),c=n(75582),d=n(91612),g=n(47957),p=n(38213),f=(0,a.X)({self:[o.l0.colWithGap(8)]}),m=u.K.a,v=function(){var e,t=(0,g.Pf)({}),n=t.data;if(t.loading&&!n||!n||(null==n?void 0:null===(e=n.currentUser)||void 0===e?void 0:e.storageInfo.__typename)!=="StorageInfo"||"StorageQuota"!==n.currentUser.storageInfo.storageQuota.__typename||"StorageQuotaStatus"!==n.currentUser.storageInfo.storageQuotaStatus2.__typename||"StorageGracePeriodQuota"!==n.currentUser.storageInfo.storageGracePeriodQuota.__typename||"AccountStorageUtilization"!==n.currentUser.storageInfo.accountStorageUtilization.__typename||"UserPowerUpsTypes"!==n.currentUser.userPowerUpsByType.__typename)return null;var a=n.currentUser,o=a.storageInfo,s=o.storageQuotaStatus2.status,d=o.storageQuota.quota,p=o.storageGracePeriodQuota.quota,v=o.accountStorageUtilization.total,B=a.userPowerUpsByType.storage,U=B.currentSku,b=B.daysLeftInGracePeriod,Z=B.isInGracePeriod,_=a.cyclesAutoRefillConfiguration,w=Number(d),x=Number(v),S=s===c.bS.ExceedingQuota,G="0"!==p,T=(null==_?void 0:_.__typename)==="CyclesAutoRefillConfiguration"&&_.enabled,k=G&&S?(0,r.tZ)(m,{href:"https://docs.replit.com/programming-ide/workspace-features/expandable-storage",target:"_blank",children:(0,r.tZ)(i.E,{icon:(0,r.tZ)(l.Z,{}),colorway:"orange",text:"You’re prolific! You’re over the storage limit for your plan. Don’t worry, you have a grace period to upgrade your storage or clear space before the limits affect you. Click to learn more"})}):(0,r.tZ)(y,{quotaStatus:s,quota:w,total:x,hasLimitEnforcementGracePeriod:G}),C=U?(0,r.tZ)(h,{sku:U,hasAutorefillEnabled:T,isInGracePeriod:Z,daysLeftInGracePeriod:null!=b?b:void 0}):null;return null!==k||null!==C?(0,r.BX)(u.G,{css:f.self,children:[k,C]}):null},h=function(e){var t=e.sku,n=e.hasAutorefillEnabled,a=e.isInGracePeriod,o=e.daysLeftInGracePeriod,u=void 0===o?0:o;return(0,p.A)()?null:a&&u>0?(0,r.tZ)(i.E,{icon:(0,r.tZ)(l.Z,{}),colorway:"primary",text:"You’re out of Cycles to pay for your ".concat(d.zd[t]," GiB ")+"storage add-on. You have ".concat(u," days left to ")+"refill your Cycles, or you’ll lose access to that storage space. To avoid this in the future, turn Cycles Auto-Refill on."}):n?null:(0,r.tZ)(i.E,{icon:(0,r.tZ)(l.Z,{}),colorway:"primary",text:"Turn on Cycles Auto-Refill to prevent your ".concat(d.zd[t]," ")+"GiB storage add-on from expiring when you run out of Cycles."})},y=function(e){var t=e.quotaStatus,n=e.quota,a=e.total;switch(t){case c.bS.ExceedingQuota:return(0,r.tZ)(i.E,{icon:(0,r.tZ)(l.Z,{}),colorway:"orange",text:"Your account is over the storage limit for your plan. Upgrade your account storage or delete Repls or files to free up space."});case c.bS.ApproachingQuota:return(0,r.tZ)(i.E,{icon:(0,r.tZ)(l.Z,{}),colorway:"primary",text:"Your account is almost out of storage. You’re using ".concat((0,s.s)(a)," / ").concat((0,s.s)(n),". Upgrade your account storage or delete Repls or files to free up space.")});default:return null}}},34785:function(e,t,n){n.d(t,{s:function(){return l}});var r=n(75582),a=n(87001),l=function(e){switch(e){case r.HP.HackerPro:return"".concat(a.we," plan");case r.HP.Hacker:return"".concat(a.ZK," plan");default:return"".concat(a.Ic," plan")}}},42588:function(e,t,n){n.d(t,{s:function(){return l}});var r=n(91612),a=n(93302),l=function(e){return e>2*r.lb?"".concat((0,a.$s)(e).toLocaleString(void 0,{maximumFractionDigits:1})," GiB"):"".concat(Math.round((0,a.p6)(e)).toLocaleString()," MiB")}},16560:function(e,t,n){n.d(t,{M7:function(){return o},Xo:function(){return a},hU:function(){return l},m0:function(){return r},v7:function(){return i}});var r=125e-8,a=.4,l=18,i=2,o=10}}]);
//# sourceMappingURL=5265-a9d61cb63a4acff6.js.map