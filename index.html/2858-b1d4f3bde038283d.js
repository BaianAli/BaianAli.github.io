!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0809c85b-5b06-4fc0-9e19-3c1ac21ba534",e._sentryDebugIdIdentifier="sentry-dbid-0809c85b-5b06-4fc0-9e19-3c1ac21ba534")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"6af6db66"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2858],{72858:function(e,t,n){n.d(t,{Z:function(){return nO}});var r,i,o,l=n(42516),a=n(66626),s=n(74985),c=n(27387),u=n(96583),d=n(65614),h=n(25425),p=n(72310),m=n(26220),f=n(1498),g=n(18836),v=n(49344),y=n(48272),Z=n(37951),b=n(4070),x=n(74833),w=n(30983),C=n(56596),_=n(32377),U=n(52924),B=n(97615),T=n(53831),G=n(52682),S=n(29287),I=n(35972),P=n(75582),M=n(50959),X=n(41733),D=n(21262),k=n(71440),R=n(99165),A=n(58995);function E(){var e=(0,D._)(["\n  fragment AccountAccountCurrentUser on CurrentUser {\n    id\n    email\n    isVerified\n    verifiedPhoneNumber\n    locale\n    replContinent {\n      id\n      name\n    }\n  }\n"]);return E=function(){return e},e}function W(){var e=(0,D._)(["\n  mutation AccountUpdateEmail($email: String!, $password: String!) {\n    updateEmail(email: $email, password: $password) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return W=function(){return e},e}function N(){var e=(0,D._)(["\n  mutation AccountUpdatePassword(\n    $currentPassword: String!\n    $newPassword: String!\n  ) {\n    updatePassword(\n      currentPassword: $currentPassword\n      newPassword: $newPassword\n    ) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n      }\n    }\n  }\n"]);return N=function(){return e},e}function V(){var e=(0,D._)(["\n  mutation AccountDeleteAccount {\n    deleteAccount\n  }\n"]);return V=function(){return e},e}function z(){var e=(0,D._)(["\n  mutation AccountSelectReplContinent($input: SelectReplContinentInput!) {\n    selectReplContinent(input: $input) {\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return z=function(){return e},e}function L(){var e=(0,D._)(["\n  query AccountGetAvailableReplContinents {\n    replContinents {\n      __typename\n      ... on ReplContinentsOutput {\n        continents {\n          id\n          name\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return L=function(){return e},e}var j={},Y=(0,k.Ps)(E()),q=(0,k.Ps)(W(),Y),O=(0,k.Ps)(N()),$=(0,k.Ps)(V()),F=(0,k.Ps)(z(),Y),H=(0,k.Ps)(L());function Q(){var e=(0,D._)(["\n  fragment AccountEmailSettingsCurrentUser on CurrentUser {\n    id\n    emailNotifications\n    marketingNotifications\n  }\n"]);return Q=function(){return e},e}function J(){var e=(0,D._)(["\n  mutation AccountEmailSettingsUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountEmailSettingsCurrentUser\n    }\n  }\n  ","\n"]);return J=function(){return e},e}var K={},ee=(0,k.Ps)(Q()),et=(0,k.Ps)(J(),ee),en=n(20573),er=n(93918),ei=(0,er.X)({styles0:[S.l0.align.start],styles1:[S.l0.pr(8)]});function eo(e){var t=e.children;return"string"!=typeof t?null:(0,s.tZ)(C.G,{css:ei.styles0,children:(0,s.tZ)(Z.E,{icon:(0,s.tZ)(en.Z,{}),colorway:"negative",text:t,css:ei.styles1})})}var el=(0,er.X)({styles0:[S.l0.colWithGap(16)],styles1:[S.l0.fontWeight.medium],styles2:[S.l0.rowWithGap(16)],styles3:[S.l0.flex.column,{width:"calc(50% - 8px)"}],styles4:[S.l0.flex.column,{width:"calc(50% - 8px)"}],styles5:[S.l0.rowWithGap(12),S.l0.justify.end],styles6:[S.l0.colWithGap(8)],styles7:[S.l0.flex.row,S.l0.justify.spaceBetween],styles8:[S.l0.colWithGap(4)],styles9:[S.l0.fontWeight.medium],styles10:[S.l0.colWithGap(16)],styles11:[S.l0.fontWeight.medium],styles12:[S.l0.rowWithGap(16)],styles13:[S.l0.flex.column,{width:"calc(50% - 8px)"}],styles14:[S.l0.flex.column,{width:"calc(50% - 8px)"}],styles15:[S.l0.rowWithGap(12),S.l0.justify.end],styles16:[S.l0.colWithGap(8)],styles17:[S.l0.flex.row,S.l0.justify.spaceBetween],styles18:[S.l0.colWithGap(4)],styles19:[S.l0.fontWeight.medium],styles20:[S.l0.rowWithGap(8),S.l0.align.center],styles21:[S.l0.fontWeight.medium],styles22:[S.l0.colWithGap(16)],styles23:[S.l0.rowWithGap(16)],styles24:[S.l0.colWithGap(4),{width:"calc(100% - 8px)"}],styles25:[S.l0.rowWithGap(12),S.l0.justify.end],styles26:[S.l0.colWithGap(8)],styles27:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.center],styles28:[S.l0.colWithGap(4)],styles29:[S.l0.colWithGap(16)],styles30:[S.l0.flex.column],styles31:[S.l0.fontWeight.medium],styles32:[S.l0.colWithGap(24)],styles33:[S.l0.rowWithGap(12),S.l0.justify.end],styles34:[S.l0.rowWithGap(4),S.l0.align.center],styles35:[S.l0.fontWeight.medium],styles36:[S.l0.rowWithGap(4),S.l0.align.center],styles37:[S.l0.fontWeight.medium],styles38:[S.l0.colWithGap(24),S.l0.p(16)],styles39:[S.l0.border({color:S.TV.outlineDimmest,direction:"top"}),S.l0.p(16)]});function ea(e){var t,n,r=e.currentUser,i=(0,a._)((0,M.useState)(!1),2),o=i[0],l=i[1],d=(0,a._)((0,M.useState)(!1),2),h=d[0],v=d[1],y=(0,a._)((0,M.useState)(null),2),b=y[0],w=y[1],B=(0,p.Y)("",m.Z.email),G=(0,p.Y)("",m.Z.password),S=(0,a._)((t=(0,X._)({},j,{onError:function(){return w("Something went wrong, try reloading the page and try again")},onCompleted:function(e){var t;(null===(t=e.updateEmail)||void 0===t?void 0:t.__typename)==="UserError"?w(e.updateEmail.message):(l(!1),v(!0),G.setValue(""))}}),R.D(q,t)),2),I=S[0],P=S[1].loading,D=(n=(0,c._)(function(e){var t,n;return(0,u.Jh)(this,function(r){switch(r.label){case 0:return e.preventDefault(),B.value&&G.value||w("Please fill in all fields"),[4,B.validate()];case 1:if(null==(t=r.sent())?void 0:t.message)return w(null==t?void 0:t.message),[2];return[4,G.validate()];case 2:if(null==(n=r.sent())?void 0:n.message)return w(null==n?void 0:n.message),[2];return I({variables:{email:B.value,password:G.value}}),[2]}})}),function(e){return n.apply(this,arguments)});return o?(0,s.tZ)("form",{onSubmit:D,children:(0,s.BX)(C.G,{css:el.styles0,children:[(0,s.tZ)(x.h4,{level:2,css:el.styles1,children:"Update your email"}),(0,s.BX)(C.G,{css:el.styles2,children:[(0,s.BX)(C.G,{css:el.styles3,children:[(0,s.tZ)("label",{htmlFor:"newEmail",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New email"})}),(0,s.tZ)(g.II,{id:"newEmail",placeholder:"your@email.com",onChange:function(e){return B.setValue(e.target.value)},value:B.value})]}),(0,s.BX)(C.G,{css:el.styles4,children:[(0,s.tZ)("label",{htmlFor:"passwordConfirmation",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Password confirmation"})}),(0,s.tZ)(g.II,{id:"passwordConfirmation",type:"password",placeholder:"••••••••••••",onChange:function(e){return G.setValue(e.target.value)},value:G.value})]})]}),b?(0,s.tZ)(eo,{children:b}):null,(0,s.BX)(C.G,{css:el.styles5,children:[(0,s.tZ)(f.zx,{onClick:function(){return l(!1)},text:"Cancel"}),(0,s.tZ)(f.zx,{disabled:P,colorway:"primary",type:"submit",text:P?"Updating...":"Update",iconLeft:(0,s.tZ)(_.Z,{})})]})]})}):(0,s.BX)(C.G,{css:el.styles6,children:[(0,s.BX)(C.G,{css:el.styles7,children:[(0,s.BX)(C.G,{css:el.styles8,children:[(0,s.tZ)(x.xv,{css:el.styles9,children:"Your email"}),(0,s.tZ)(x.xv,{children:r.email})]}),(0,s.tZ)(f.zx,{variant:"outlined",onClick:function(){return l(!0)},text:"Edit",iconLeft:(0,s.tZ)(U.Z,{})})]}),h?(0,s.tZ)(Z.E,{colorway:"positive",icon:(0,s.tZ)(_.Z,{}),text:"Visit the verification link sent to ".concat(B.value," to complete your email change.")}):null,h||r.isVerified?null:(0,s.tZ)(Z.E,{colorway:"negative",icon:(0,s.tZ)(T.Z,{}),text:"Your email is unverified! Click on the link we sent you to fix this."})]})}function es(){var e,t=(0,a._)((0,M.useState)(!1),2),n=t[0],r=t[1],i=(0,a._)((0,M.useState)(!1),2),o=i[0],l=i[1],c=(0,a._)((0,M.useState)(null),2),u=c[0],d=c[1],h=(0,p.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),m=(0,p.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),v=(0,a._)((e=(0,X._)({},j,{onError:function(){return d("Something went wrong")},onCompleted:function(e){var t;(null===(t=e.updatePassword)||void 0===t?void 0:t.__typename)==="UserError"?d(e.updatePassword.message):(d(null),r(!1),l(!0),m.setValue(""),h.setValue(""))}}),R.D(O,e)),2),y=v[0],b=v[1].loading;return n?(0,s.tZ)("form",{onSubmit:function(e){e.preventDefault(),y({variables:{newPassword:h.value,currentPassword:m.value}})},children:(0,s.BX)(C.G,{css:el.styles10,children:[(0,s.tZ)(x.h4,{level:2,css:el.styles11,children:"Update your password"}),(0,s.BX)(C.G,{css:el.styles12,children:[(0,s.BX)(C.G,{css:el.styles13,children:[(0,s.tZ)("label",{htmlFor:"currentPassword",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Current password"})}),(0,s.tZ)(g.II,{id:"currentPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return m.setValue(e.target.value)},value:m.value})]}),(0,s.BX)(C.G,{css:el.styles14,children:[(0,s.tZ)("label",{htmlFor:"newPassword",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New password"})}),(0,s.tZ)(g.II,{id:"newPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return h.setValue(e.target.value)},value:h.value})]})]}),u?(0,s.tZ)(eo,{children:u}):null,(0,s.BX)(C.G,{css:el.styles15,children:[(0,s.tZ)(f.zx,{onClick:function(){return r(!1)},text:"Cancel"}),(0,s.tZ)(f.zx,{disabled:b,colorway:"primary",type:"submit",text:b?"Updating...":"Update",iconLeft:(0,s.tZ)(_.Z,{})})]})]})}):(0,s.BX)(C.G,{css:el.styles16,children:[(0,s.BX)(C.G,{css:el.styles17,children:[(0,s.BX)(C.G,{css:el.styles18,children:[(0,s.tZ)(x.xv,{css:el.styles19,children:"Your password"}),(0,s.tZ)(x.xv,{children:"••••••••••••"})]}),(0,s.tZ)(f.zx,{variant:"outlined",onClick:function(){return r(!0)},text:"Edit",iconLeft:(0,s.tZ)(U.Z,{})})]}),o?(0,s.tZ)(Z.E,{colorway:"positive",icon:(0,s.tZ)(_.Z,{}),text:"Password updated"}):null]})}function ec(e){var t,n,r,i,o,c,u=e.currentUser,d=(r={},(0,l._)(r,P.aG.Na,"North America"),(0,l._)(r,P.aG.Asia,"Asia"),r),h=(i={},(0,l._)(i,P.aG.Na,"Servers located throughout the continental United States"),(0,l._)(i,P.aG.Asia,"Servers located in Mumbai, India"),i),p=(0,a._)((0,M.useState)(!1),2),m=p[0],g=p[1],v=(0,a._)((0,M.useState)(!1),2),b=v[0],T=v[1],G=(0,a._)((0,M.useState)(null),2),I=G[0],D=G[1],k=(t=(0,X._)({},j,{}),A.a(H,t)).data,E=(null==k?void 0:k.replContinents.__typename)==="ReplContinentsOutput"?k.replContinents.continents:[],W=E.map(function(e){return{value:e.id,title:d[e.id],subtitle:h[e.id],name:e.name,taller:!0}}),N=u.replContinent,V=W.find(function(e){return e.value===N.id}),z=(0,a._)((0,M.useState)(null!==(o=N.id)&&void 0!==o?o:P.aG.Na),2),L=z[0],Y=z[1],q=(0,a._)((n=(0,X._)({},j,{onError:function(){D("Something went wrong")},onCompleted:function(e){var t;(null===(t=e.selectReplContinent)||void 0===t?void 0:t.__typename)==="CurrentUser"?(D(null),g(!1),T(!0)):D(e.selectReplContinent.message)}}),R.D(F,n)),2),O=q[0],$=q[1].loading,Q=(0,s.BX)(C.G,{css:el.styles20,children:[(0,s.tZ)(x.xv,{css:el.styles21,children:"Your server location"}),(0,s.tZ)(w.u,{tooltip:"".concat("Where the servers running your Repls will be located. Select a server location closest to you for the best possible experience."),children:(0,s.tZ)(B.Z,{color:S.TV.foregroundDimmer})})]});return m?(0,s.tZ)("form",{onSubmit:function(e){var t;e.preventDefault(),O({variables:{input:{continent:null===(t=E.find(function(e){return e.id===L}))||void 0===t?void 0:t.id}}})},children:(0,s.BX)(C.G,{css:el.styles22,children:[Q,(0,s.tZ)(C.G,{css:el.styles23,children:(0,s.tZ)(C.G,{css:el.styles24,children:(0,s.tZ)(y.P,{placeholder:"Select your server location",initialSelectedItem:V,items:W,onChange:function(e){return Y(e.value)}})})}),I?(0,s.tZ)(eo,{children:I}):null,(0,s.BX)(C.G,{css:el.styles25,children:[(0,s.tZ)(f.zx,{onClick:function(){return g(!1)},text:"Cancel"}),(0,s.tZ)(f.zx,{disabled:$,colorway:"primary",type:"submit",text:$?"Updating...":"Update",iconLeft:(0,s.tZ)(_.Z,{})})]})]})}):(0,s.BX)(C.G,{css:el.styles26,children:[(0,s.BX)(C.G,{css:el.styles27,children:[(0,s.BX)(C.G,{css:el.styles28,children:[Q,(0,s.tZ)(x.xv,{children:null!==(c=null==V?void 0:V.title)&&void 0!==c?c:"..."})]}),(0,s.tZ)(f.zx,{variant:"outlined",onClick:function(){return g(!0)},text:"Edit",iconLeft:(0,s.tZ)(U.Z,{})})]}),b?(0,s.tZ)(Z.E,{colorway:"positive",icon:(0,s.tZ)(_.Z,{}),text:"Server location updated"}):null]})}function eu(){var e,t,n=(0,a._)((0,M.useState)(!1),2),r=n[0],i=n[1],o=(0,a._)((0,M.useState)(null),2),l=o[0],h=o[1],p=(0,a._)((e={onError:function(){return h("Something went wrong")},onCompleted:(0,c._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:return[4,(0,d.w7)()];case 1:return e.sent(),window.location.href="/logout",[2]}})})},t=(0,X._)({},j,e),R.D($,t)),2),m=p[0],g=p[1],y=g.data,Z=g.loading,b=(null==y?void 0:y.deleteAccount)===!0;return(0,s.BX)(C.G,{css:el.styles29,children:[(0,s.BX)(C.G,{css:el.styles30,children:[(0,s.tZ)(x.xv,{css:el.styles31,children:"Danger Zone"}),(0,s.tZ)(x.xv,{color:"dimmer",children:"Irreversible and destructive actions"})]}),(0,s.tZ)(f.zx,{onClick:function(){return i(!0)},colorway:"negative",variant:"outlined",text:"Request account deletion",css:{alignSelf:"flex-start"},iconLeft:(0,s.tZ)(G.Z,{})}),l?(0,s.tZ)(eo,{children:l}):null,(0,s.tZ)(v.u,{isOpen:r,onRequestClose:function(){return i(!1)},children:(0,s.BX)(C.G,{css:el.styles32,children:[(0,s.tZ)(x.h4,{variant:"headerDefault",level:2,children:"Delete Account"}),(0,s.tZ)(x.xv,{children:"All your hosted Repls and content will be taken down within 24 hours. This cannot be undone."}),(0,s.BX)(C.G,{css:el.styles33,children:[(0,s.tZ)(f.zx,{text:"Cancel",disabled:Z||b,onClick:function(){return i(!1)}}),(0,s.tZ)(f.zx,{iconLeft:(0,s.tZ)(G.Z,{}),disabled:Z||b,onClick:function(){return m()},text:"Yes, Delete my Account",colorway:"negative"})]})]})})]})}function ed(e){var t,n=e.currentUser,r=(0,a._)((0,M.useState)(null),2),i=r[0],o=r[1],l=(0,a._)((t=(0,X._)({},K,{onError:function(){return o("Something went wrong")},onCompleted:function(){return o(null)}}),R.D(et,t)),2),c=l[0],u=l[1].loading;return(0,s.BX)(I.gC,{spacing:2,align:"stretch",children:[(0,s.BX)(I.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,s.BX)(C.G,{css:el.styles34,children:[(0,s.tZ)(x.xv,{color:"default",css:el.styles35,children:"Receive transactional notifications via email"}),(0,s.tZ)(w.u,{tooltip:"Transactional emails can be important notifications about your deployment status, bounties chat updates, balance-related reminders, and other product-related communication that can improve the product experience.",children:(0,s.tZ)(B.Z,{color:S.TV.foregroundDimmer})})]}),(0,s.tZ)(b.r,{isSelected:n.emailNotifications,onChange:function(){u||c({variables:{input:{emailNotifications:!n.emailNotifications}}})},"aria-labelledby":"receive-email-product-notifications"})]}),(0,s.BX)(I.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,s.BX)(C.G,{css:el.styles36,children:[(0,s.tZ)(x.xv,{color:"default",css:el.styles37,children:"Receive marketing notifications"}),(0,s.tZ)(w.u,{tooltip:"Marketing emails can be about new features, products, and other updates we think can be interesting for you to know. This preference can take up to 24 hours to update.",children:(0,s.tZ)(B.Z,{color:S.TV.foregroundDimmer})})]}),(0,s.tZ)(b.r,{isSelected:n.marketingNotifications,onChange:function(){u||c({variables:{input:{marketingNotifications:!n.marketingNotifications}}})},"aria-labelledby":"receive-marketing-notifications"})]}),i?(0,s.tZ)(eo,{children:i}):null]})}function eh(e){var t=e.currentUser,n=(0,h.P5)({controlName:"select-geo-continent",logFlagToAnalytics:!1});return(0,s.BX)(C.G,{children:[(0,s.BX)(C.G,{css:el.styles38,children:[(0,s.tZ)(ea,{currentUser:t}),(0,s.tZ)(es,{}),n?(0,s.tZ)(ec,{currentUser:t}):null,(0,s.tZ)(ed,{currentUser:t})]}),(0,s.tZ)(C.G,{css:el.styles39,children:(0,s.tZ)(eu,{})})]})}var ep=(0,er.X)({container:[S.l0.colWithGap(24),S.l0.p(16)],row:[S.l0.flex.row,S.l0.justify.spaceBetween],cell:[S.l0.colWithGap(4)],label:[S.l0.fontWeight.medium]});function em(e){var t=e.currentUser;return(0,s.tZ)(C.G,{css:ep.container,children:(0,s.tZ)(C.G,{css:ep.row,children:(0,s.BX)(C.G,{css:ep.cell,children:[(0,s.tZ)(x.xv,{css:ep.label,children:"Your email"}),(0,s.tZ)(x.xv,{children:t.email})]})})})}var ef=n(60814),eg=n(55534),ev=n(24801),ey=n(19089),eZ=n(70002),eb=n(74094),ex=n(88936),ew=n(30703),eC=n(57784);function e_(){var e=(0,D._)(["\n  fragment IsYearlyBillingCurrentUser on CurrentUser {\n    id\n    billingInfo {\n      planInfo {\n        interval\n      }\n    }\n  }\n"]);return e_=function(){return e},e}function eU(){var e=(0,D._)(['\n  fragment AccountBillingCurrentUser on CurrentUser {\n    id\n    ...IsYearlyBillingCurrentUser\n    userSubscription {\n      isTrial\n      timeRemainingInTrial\n    }\n    billingInfo {\n      planInfo {\n        provider\n        amount\n        description\n        nextPaymentDue\n        interval\n        cancelAt\n        coupon {\n          percent\n          amount\n          endAt\n        }\n      }\n      expiration\n    }\n    cycles {\n      transactions(count: 1) {\n        items {\n          id\n          time_created\n        }\n      }\n    }\n    customer {\n      id\n      stripeCustomerId\n    }\n    hasUsageUtopia: gate(feature: "flag-usage-utopia")\n  }\n  ',"\n"]);return eU=function(){return e},e}function eB(){var e=(0,D._)(["\n  mutation BillingModalSetBillingPeriod($input: SetTrialBillingPeriodInput!) {\n    setTrialBillingPeriod(input: $input) {\n      __typename\n      ... on Error {\n        message\n      }\n      ... on SetTrialBillingPeriodResult {\n        currentUser {\n          id\n          ...IsYearlyBillingCurrentUser\n        }\n      }\n    }\n  }\n  ","\n"]);return eB=function(){return e},e}var eT={},eG=(0,k.Ps)(e_()),eS=(0,k.Ps)(eU(),eG),eI=(0,k.Ps)(eB(),eG),eP=(0,er.X)({styles0:[S.l0.flex.row,S.l0.align.center,S.l0.pb(8)]}),eM=(0,er.X)({subsectionContainer:[S.l0.colWithGap(12),S.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+S.TV.outlineDimmest}}],planButtonLink:[S.l0.width("fit-content")],sectionDivider:[S.l0.width("100%"),S.l0.height(1),S.l0.backgroundColor.outlineDimmest],detailsGrid:{display:"grid",gridTemplateColumns:"96px auto",rowGap:4,columnGap:32}});function eX(e){var t,n,r,i,o=e.currentUser,l=null==o?void 0:o.hasUsageUtopia,a=null==o?void 0:null===(n=o.billingInfo)||void 0===n?void 0:null===(t=n.planInfo)||void 0===t?void 0:t.provider,c=(null==o?void 0:null===(r=o.cycles.transactions)||void 0===r?void 0:r.items.length)!=null&&(null==o?void 0:null===(i=o.cycles.transactions)||void 0===i?void 0:i.items.length)>0,u=a===P.Cs.Apple||a===P.Cs.Google?"Resource usage payment details":"Payment details";return(0,s.BX)(C.G,{children:[(0,s.BX)(C.G,{css:eM.subsectionContainer,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",children:"Your plan"}),(0,s.tZ)(eR,{currentUser:o}),l?null:(0,s.tZ)(eZ.Z,{href:"/cycles",variant:"outlined",text:"See your Cycles purchases and usage",iconLeft:(0,s.tZ)(eb.Z,{}),css:eM.planButtonLink})]}),(0,s.BX)(C.G,{css:eM.subsectionContainer,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:u}),(0,s.tZ)(ey.S,{})]}),l?(0,s.BX)(C.G,{css:eM.subsectionContainer,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Cycles"}),c?(0,s.tZ)(eD,{}):(0,s.tZ)(eZ.Z,{href:"/cycles",variant:"outlined",text:"Buy Cycles",iconLeft:(0,s.tZ)(eb.Z,{}),css:eM.planButtonLink})]}):null]})}function eD(){var e=(0,ef.Z)({forceFetch:!1}),t=e.formattedBalanceWithDecimals,n=e.error,r=(0,s.tZ)(x.xv,{children:"Loading balance..."});return t?r=(0,s.BX)(s.HY,{children:[(0,s.tZ)(eb.Z,{size:16,css:{marginRight:2}}),(0,s.tZ)(x.xv,{multiline:!1,children:t})]}):n&&(r=(0,s.tZ)(Z.E,{icon:(0,s.tZ)(en.Z,{}),colorway:"warning",text:"Unable to load your balance. Try refreshing the page."})),(0,s.BX)(C.G,{children:[(0,s.tZ)(C.G,{css:eP.styles0,children:r}),(0,s.tZ)(eZ.Z,{href:"/cycles",variant:"outlined",text:"View Cycles transactions",css:eM.planButtonLink})]})}function ek(e){var t,n,r=e.currentUser,i=r.billingInfo,o=r.userSubscription,l=(0,eg.Z)(),c=l.showConfirm,u=l.showError,d=(0,a._)((t=(0,X._)({},eT,{onCompleted:function(){c("Your billing period has been updated.")},onError:function(){u("Unable to update billing period.")}}),R.D(eI,t)),2),h=d[0],p=d[1].loading,m=null==o?void 0:o.isTrial,g=(0,ev.DC)(null==i?void 0:null===(n=i.planInfo)||void 0===n?void 0:n.interval),v="monthly"===g;return m&&g?(0,s.tZ)(f.zx,{text:v?"Save $100 with yearly billing":"Switch to monthly billing",variant:"outlined",colorway:v?"blurple":void 0,disabled:p,iconLeft:p?(0,s.tZ)(ex.Z,{}):void 0,onClick:function(){h({variables:{input:{billingPeriod:"yearly"===g?P.qh.Monthly:P.qh.Yearly}}})}}):null}function eR(e){var t=e.currentUser,n=t.billingInfo,r=t.customer,i=null==n?void 0:n.planInfo,o=null==i?void 0:i.provider,l=(null==i?void 0:i.nextPaymentDue)?new Date(i.nextPaymentDue):null,a=(null==i?void 0:i.cancelAt)?new Date(i.cancelAt):null,c=(null==n?void 0:n.expiration)?new Date(n.expiration):null,u=null==i?void 0:i.coupon,d=(null==u?void 0:u.endAt)?new Date(u.endAt):void 0,h="",p=d?"until "+d.toDateString():"forever";u&&u.amount?h="Your plan is discounted by $".concat((u.amount/100).toFixed(2)," ").concat(p,"."):u&&u.percent&&(h="Your plan is discounted by ".concat(u.percent,"% ").concat(p,"."));var m=new Date,f=!!c&&m>c,g="You'll retain your ".concat(n?"paid ":"","benefits ")+(c?"until "+c.toDateString():"for a very long time.");return(o===P.Cs.Apple||o===P.Cs.Google)&&i?(0,s.tZ)(eC.Z,{planName:i.description,provider:o}):(0,s.BX)(s.HY,{children:[f||l||!i?null:(0,s.tZ)(x.xv,{variant:"small",multiline:!1,children:g}),a?(0,s.tZ)(Z.E,{icon:(0,s.tZ)(en.Z,{}),colorway:"warning",text:"Your plan will be automatically canceled on ".concat(a.toDateString(),". Boosted Repls in your plan's quota will automatically be un-Boosted. Repls Boosted through Cycles will remain unaffected.")}):null,u?(0,s.tZ)(Z.E,{icon:(0,s.tZ)(ew.Z,{}),colorway:"positive",text:h}):null,(0,s.BX)(C.G,{css:eM.detailsGrid,children:[!f&&i?(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Plan"}),(0,s.tZ)(x.xv,{color:"default",multiline:!1,children:i.description})]}):null,!f&&l?(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Next payment"}),(0,s.tZ)(x.xv,{multiline:!1,children:l.toDateString()})]}):null,(null==i?void 0:i.amount)?(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Amount"}),(0,s.BX)(x.xv,{multiline:!1,children:["$",i.amount/100," per ",i.interval]}),(0,s.tZ)(C.G,{css:{gridColumn:"span 2",alignItems:"flex-start"},children:(0,s.tZ)(ek,{currentUser:t})})]}):null,f||l||!c?null:(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Expiration"}),(0,s.tZ)(x.xv,{multiline:!1,children:c.toDateString()})]})]}),(null==r?void 0:r.stripeCustomerId)||(null==i?void 0:i.provider)===P.Cs.Stripe?(0,s.tZ)(s.HY,{children:(0,s.BX)(x.xv,{children:["To update your subscription payment method, cancel subscription, or view invoices, ",(0,s.tZ)("a",{href:"/stripe-customer-portal",children:"click here"}),"."]})}):(0,s.tZ)(x.xv,{multiline:!1,children:"No billing information"})]})}var eA=n(43182),eE=n(28074),eW=n(99705),eN=n(36655),eV=n(58719),ez=n(8017),eL=n(40028),ej=n(59060),eY=n(14819);function eq(){var e=(0,D._)(["\n  fragment AccountConnectedServicesCurrentUser on CurrentUser {\n    id\n    githubAuth: auth(provider: GITHUB) {\n      provider\n    }\n    googleAuth: auth(provider: GOOGLE) {\n      provider\n    }\n    facebookAuth: auth(provider: FACEBOOK) {\n      provider\n    }\n    appleAuth: auth(provider: APPLE) {\n      provider\n    }\n  }\n"]);return eq=function(){return e},e}function eO(){var e=(0,D._)(["\n  query AccountConnectedServices {\n    currentUser {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return eO=function(){return e},e}function e$(){var e=(0,D._)(["\n  mutation AccountConnectedServicesDisconnectAuthProvider(\n    $provider: UserAuthProviders!\n  ) {\n    disconnectAuthProvider(provider: $provider) {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return e$=function(){return e},e}var eF={},eH=(0,k.Ps)(eq());eO();var eQ=(0,k.Ps)(e$(),eH),eJ=(0,er.X)({styles0:[S.l0.colWithGap(16)],styles1:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.center],styles2:[S.l0.fontWeight.medium]}),eK=function(e){switch(e){case P.x9.Apple:return"apple.com";case P.x9.Facebook:return"facebook.com";case P.x9.Github:return"github.com";case P.x9.Google:return"google.com";default:(0,eL.Z)(e)}};function e0(e){var t,n,r,i,o,l=e.currentUser,h=(0,eE.L)().user,p=null!==(o=null==h?void 0:h.providerData)&&void 0!==o?o:[],m=(0,a._)((0,M.useState)(null),2),g=m[0],y=m[1],Z=(0,a._)((0,M.useState)(null),2),b=Z[0],w=Z[1],_=(0,eN.J)(),U=(0,a._)((t={onError:function(){return y("Something went wrong")},onCompleted:(0,c._)(function(){return(0,u.Jh)(this,function(e){return[2,y(null)]})})},n=(0,X._)({},eF,t),R.D(eQ,n)),2),B=U[0],T=U[1],G=(r=(0,c._)(function(e){var t,n;return(0,u.Jh)(this,function(r){switch(r.label){case 0:if(h)return[3,1];return eA.Tb(Error("Tried to connect OAuth provider without SDK user")),y("Please log out and log back in to connect external services. We're sorry for the inconvenience."),[2];case 1:return t=eK(e),[4,(0,d.Ps)(h,t)];case 2:"error"===(n=r.sent()).type&&("provider-exists"===n.treatment?y("This provider is already linked to your account."):y("Something unexpected happened. Please try again.")),r.label=3;case 3:return[2]}})}),function(e){return r.apply(this,arguments)}),S=(i=(0,c._)(function(e){var t,n,r,i;return(0,u.Jh)(this,function(o){switch(o.label){case 0:if(t=e.provider,n=e.name,h)return[3,1];return eA.Tb(Error("Received OAuth disconnect request without SDK user")),[3,3];case 1:return r=eK(t),[4,(0,d.xV)(h,r)];case 2:if("error"===(i=o.sent()).type)switch(i.treatment){case"provider-not-linked":y("".concat(n," isn't linked to your account."));break;case"unhandled":case"unknown":y("Something unexpected happened when attempting to remove this provider. Please try again.");break;default:(0,eL.Z)(i)}o.label=3;case 3:return B({variables:{provider:t.toUpperCase()}}),w(null),[2]}})}),function(e){return i.apply(this,arguments)});return(0,M.useEffect)(function(){var e;(0,d.WT)().then((e=(0,c._)(function(e){var t,n,r,i;return(0,u.Jh)(this,function(o){switch(o.label){case 0:if("success"!==e.type)return[3,7];if((null===(t=e.result)||void 0===t?void 0:t.providerId)!==ej._i)return[3,6];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,eW.d8)(e.result.user)];case 2:if("error"===(n=o.sent()).type)throw Error(n.message);return[3,4];case 3:return r=o.sent(),eA.Tb(r),[2];case 4:return[4,_({userCredential:e.result,oauthProviderId:ej._i,scopes:[]})];case 5:"error"===(i=o.sent()).type&&y(i.message),o.label=6;case 6:return[2];case 7:switch(e.treatment){case"credential-conflict":y("This provider cannot be used, please try another method.");break;case"email-conflict":y("This email cannot be used, please try another method.");break;case"forbidden-operation":y("That action is not permitted");break;case"user-needs-email":y("Adding this provider failed because it doesn't have an associated email address.");break;case"requires-provider-link":case"timeout":case"unhandled":case"unknown":y("Something unexpected happened, please try again.");break;default:(0,eL.Z)(e)}return[2]}})}),function(t){return e.apply(this,arguments)})).catch(function(e){return eA.Tb(e)})},[]),(0,s.BX)(C.G,{css:eJ.styles0,children:[[{name:"GitHub",provider:P.x9.Github,isConnected:l.githubAuth},{name:"Google",provider:P.x9.Google,isConnected:l.googleAuth},{name:"Facebook",provider:P.x9.Facebook,isConnected:l.facebookAuth},{name:"Apple",provider:P.x9.Apple,isConnected:l.appleAuth}].map(function(e){var t=e.name,n=e.provider,r=e.isConnected,i=eK(n),o=p.find(function(e){return e.providerId===i}),l=null!=r?r:void 0!==o;return(0,s.BX)(C.G,{css:eJ.styles1,children:[(0,s.tZ)(x.xv,{color:l?"default":"dimmest",css:eJ.styles2,children:t}),(0,s.tZ)("div",{children:l?(0,s.tZ)(f.zx,{onClick:function(){return w({name:t,provider:n})},text:"Disconnect",variant:"outlined",disabled:T.loading,iconLeft:(0,s.tZ)(eV.Z,{})}):(0,s.tZ)(f.zx,{onClick:function(){return G(n)},text:"Connect",iconLeft:(0,s.tZ)(ez.Z,{})})})]},n)}),g?(0,s.tZ)(eo,{children:g}):null,(0,s.tZ)(v.u,{isOpen:null!==b,onRequestClose:function(){return w(null)},children:b?(0,s.tZ)(eY.Z,{confirmLabel:"Yes, disconnect this service",isDestructive:!0,title:"Disconnect ".concat(b.name),onCancel:function(){return w(null)},onConfirm:function(){return S(b)},children:"Are you sure you want to disconnect this service? You can reconnect it at any time."}):null})]})}var e1=n(30509),e2=n(76999),e3=n.n(e2),e8=n(79621),e6=n(32855),e9=n(93496),e4=n(8279),e5=n(29479),e7=n(39390),te=n(29358),tt=n(63461),tn=n(5542),tr=n(33988),ti=n.n(tr);function to(){var e=(0,D._)(["\n  fragment AccountProfileCurrentUser on CurrentUser {\n    id\n    username\n    fullName\n    canChangeUsername\n    firstName\n    lastName\n    bio\n    hasPrivacyRole\n    hasProfileImage\n    image\n    isSubscribed\n    url\n  }\n"]);return to=function(){return e},e}function tl(){var e=(0,D._)(["\n  mutation AccountProfileCurrentUserUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountProfileCurrentUser\n    }\n  }\n  ","\n"]);return tl=function(){return e},e}var ta={},ts=(0,k.Ps)(to()),tc=(0,k.Ps)(tl(),ts),tu=n(56971),td=(0,er.X)({ruiInput:[S.l0.height(32),{fontSize:"".concat(S.TV.fontSizeDefault," !important"),backgroundColor:"".concat(e9.vb.interactiveBackground," !important"),transition:"border-color 120ms ease-out !important","&":{borderRadius:"".concat(S.TV.space8," !important")},":not(:disabled)":{borderColor:"".concat(e9.vb.interactiveBorder," !important")},"&:hover":{borderColor:"".concat(e9.vb.interactiveBorderHover," !important"),transitionDuration:"0ms !important"},"&:focus":{outline:"2px solid ".concat(S.TV.accentPrimaryDefault," !important")}}]});function th(e){var t,n,r=e.currentUser,i=(0,a._)((0,M.useState)(null),2),o=i[0],d=i[1],h=(0,a._)((0,M.useState)(!1),2),m=h[0],g=h[1],y=(0,M.useRef)(r.bio),Z=(0,a._)((t=(0,X._)({},ta,{onError:function(e){d(e.message||"Something went wrong. Please try again.")},onCompleted:function(){return d(null)}}),R.D(tc,t)),2),b=Z[0],x=Z[1].loading,w=(0,p.Y)(r.firstName||"",function(e){if(e.length>250)return{message:"First name must be less than ".concat(250," characters.")}}),U=(0,p.Y)(r.lastName||"",function(e){if(e.length>250)return{message:"Last name must be less than ".concat(250," characters.")}}),B=(0,p.Y)(r.bio||"",function(e){if(e.length>140)return{message:"Bio name must be less than ".concat(140," characters.")}}),T=(n=(0,c._)(function(e){return(0,u.Jh)(this,function(t){switch(t.label){case 0:return e.preventDefault(),[4,b({variables:{input:{firstName:w.value,lastName:U.value,bio:B.value}}})];case 1:return t.sent(),y.current!==B.value&&((0,e6.w)({source:"profile",surface:"bio"}),y.current=B.value),[2]}})}),function(e){return n.apply(this,arguments)});return(0,s.BX)("div",{className:e3().dynamic([["eb9d7f32a9a7df20",[e5.j.mobileMax]]]),children:[(0,s.BX)("div",{className:e3().dynamic([["eb9d7f32a9a7df20",[e5.j.mobileMax]]])+" profile",children:[(0,s.tZ)("div",{className:e3().dynamic([["eb9d7f32a9a7df20",[e5.j.mobileMax]]])+" profile-image",children:(0,s.BX)(C.G,{css:[S.l0.colWithGap(8),S.l0.width(128)],children:[(0,s.tZ)(tu.Z,{currentUser:r,onChange:function(e){return b({variables:{input:{profileImageId:e.imageId}}})}}),r.hasProfileImage?(0,s.tZ)(f.zx,{iconLeft:(0,s.tZ)(G.Z,{}),text:"Remove photo",size:"small",variant:"outlined",onClick:function(){return g(!0)}}):null]})}),(0,s.tZ)("div",{className:e3().dynamic([["eb9d7f32a9a7df20",[e5.j.mobileMax]]])+" profile-info",children:(0,s.tZ)(I.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:(0,s.tZ)("form",{onSubmit:T,className:e3().dynamic([["eb9d7f32a9a7df20",[e5.j.mobileMax]]]),children:(0,s.BX)(I.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:[(0,s.tZ)(I.gC,{wrap:"nowrap",align:"end",children:(0,s.tZ)(te.ZP,{style:{cursor:"not-allowed",border:"none"},css:td.ruiInput,disabled:!0,description:r.canChangeUsername?(0,s.BX)(s.HY,{children:["* You can change your username"," ",(0,s.tZ)(ti(),{legacyBehavior:!0,href:"/~/cli/account/change-username",children:"through the CLI"})," ","once"]}):"* You cannot change your username",value:r.username})}),(0,s.BX)(I.gC,{wrap:"nowrap",align:"stretch",spacing:2,children:[(0,s.BX)(I.Ug,{spacing:2,wrap:"nowrap",children:[(0,s.tZ)(te.ZP,{css:td.ruiInput,label:"First name",onChange:function(e){return w.setValue(e.target.value)},value:w.value,validationResults:w.error?[{message:w.error.message,state:"error"}]:void 0}),(0,s.tZ)(te.ZP,{css:td.ruiInput,label:"Last name",onChange:function(e){return U.setValue(e.target.value)},value:U.value,validationResults:U.error?[{message:U.error.message,state:"error"}]:void 0})]}),(0,s.BX)("div",{className:e3().dynamic([["eb9d7f32a9a7df20",[e5.j.mobileMax]]]),children:[(0,s.tZ)(tt.Z,{tag:"label",foreground:2,size:"xsmall",children:"Bio"}),(0,s.tZ)("textarea",{css:td.ruiInput,maxLength:140,value:B.value,onChange:function(e){return B.setValue(e.target.value)},placeholder:"Add a bio",className:e3().dynamic([["eb9d7f32a9a7df20",[e5.j.mobileMax]]])}),(0,s.BX)(tt.Z,{size:"xsmall",foreground:3,children:["* ",B.value.length," / ",140," characters"]})]})]}),o?(0,s.tZ)(eo,{children:o}):null,(0,s.BX)(C.G,{css:[S.l0.flex.row,S.l0.justify.end,(0,l._)({gap:12},S.BC.max("mobileMax"),[S.l0.flex.column,{gap:8}])],children:[(0,s.tZ)(eZ.Z,(0,e1._)((0,X._)({},(0,tn.Ru)({username:r.username,id:r.id,url:r.url})),{iconLeft:(0,s.tZ)(e7.Z,{}),text:"View my public profile"})),(0,s.tZ)(f.zx,{disabled:x,colorway:"primary",type:"submit",iconLeft:x?(0,s.tZ)(ex.Z,{}):(0,s.tZ)(_.Z,{}),text:"Save Changes",css:[x?e4.p.backgroundPulse(S.TV.accentPrimaryDimmest,S.TV.accentPrimaryDimmer):null]})]})]})})})})]}),(0,s.tZ)(v.u,{isOpen:m,onRequestClose:function(){return g(!1)},children:(0,s.tZ)(e8.Z,{name:"profile photo",entityType:"photo",delete:function(){b({variables:{input:{profileImageId:null}}})},hideModal:function(){return g(!1)}})}),(0,s.tZ)(e3(),{id:"eb9d7f32a9a7df20",dynamic:[e5.j.mobileMax],children:".profile-image.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding-bottom:var(--space-16)}.profile-info.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}@media screen and (min-width:".concat(e5.j.mobileMax,"px){.profile.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.profile-image.__jsx-style-dynamic-selector{padding-right:var(--space-16);width:-webkit-calc(128px + var(--space-16));width:-moz-calc(128px + var(--space-16));width:calc(128px + var(--space-16));padding-bottom:0}}.error.__jsx-style-dynamic-selector{padding:var(--space-8)0;color:var(--accent-negative-default)}textarea.__jsx-style-dynamic-selector{margin:var(--space-4)0;min-height:42px;height:100px;resize:none;font-size:var(--font-size-subhead-default);font-family:var(--font-family-default);padding:var(--space-8);display:block;width:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);-webkit-transition:.1s box-shadow;-moz-transition:.1s box-shadow;-o-transition:.1s box-shadow;transition:.1s box-shadow;background-color:transparent;color:var(--foreground-default)}textarea.__jsx-style-dynamic-selector:hover{border:1px solid var(--accent-primary-dimmer)}textarea.__jsx-style-dynamic-selector:focus,textarea.__jsx-style-dynamic-selector:active{outline:none;border-color:var(--accent-primary-default)}")})]})}var tp=n(78066),tm=n(56231),tf=n(38080);function tg(){var e=(0,D._)(["\n  fragment ReplIdentityCurrentUser on CurrentUser {\n    id\n    hasReplitIdentityTesting: hasRole(role: REPLIT_IDENTITY_TESTING)\n  }\n"]);return tg=function(){return e},e}function tv(){var e=(0,D._)(["\n  query ReplIdentity {\n    allowedReplIdentityRepls {\n      ... on AllowedReplIdentityReplsOutput {\n        repls {\n          ... on Repl {\n            id\n            title\n            iconUrl\n          }\n        }\n      }\n    }\n  }\n"]);return tv=function(){return e},e}function ty(){var e=(0,D._)(["\n  mutation AddReplIdentityAllowedRepl(\n    $input: AddReplIdentityAllowedReplInput!\n  ) {\n    addReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return ty=function(){return e},e}function tZ(){var e=(0,D._)(["\n  mutation DeleteReplIdentityAllowedRepl(\n    $input: DeleteReplIdentityAllowedReplInput!\n  ) {\n    deleteReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return tZ=function(){return e},e}var tb={},tx=(0,k.Ps)(tg()),tw=(0,k.Ps)(tv()),tC=(0,k.Ps)(ty()),t_=(0,k.Ps)(tZ()),tU=(0,er.X)({styles0:[S.l0.pt(8),S.l0.colWithGap(8)],styles1:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.center,S.l0.p(8),S.l0.borderRadius(8)],styles2:[S.l0.rowWithGap(8)],styles3:[S.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}]});function tB(){var e,t,n,r,i=(0,a._)((0,M.useState)(null),2),o=i[0],l=i[1],c=(0,a._)((e=(0,X._)({},tb,{onError:function(){return l("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.addReplIdentityAllowedRepl.__typename?l(e.addReplIdentityAllowedRepl.message):(l(null),b())}}),R.D(tC,e)),2),u=c[0],d=c[1].loading,h=(0,a._)((t=(0,X._)({},tb,{onError:function(){return l("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.deleteReplIdentityAllowedRepl.__typename?l(e.deleteReplIdentityAllowedRepl.message):(l(null),b())}}),R.D(t_,t)),2),p=h[0],m=h[1].loading,g=(n=(0,X._)({},tb,void 0),A.a(tw,n)),v=g.data,y=g.loading,Z=g.error,b=g.refetch;if(y)return(0,s.tZ)(ex.Z,{});var w=(null==v?void 0:null===(r=v.allowedReplIdentityRepls)||void 0===r?void 0:r.__typename)==="AllowedReplIdentityReplsOutput"?v.allowedReplIdentityRepls.repls:[];return(0,s.BX)(I.gC,{spacing:2,align:"stretch",children:[(0,s.tZ)(I.Ug,{spacing:1,align:"center",justify:"space-between",children:(0,s.tZ)(x.xv,{color:"default",multiline:!1,children:"Allow Repls to act as you when authenticating to Replit public APIs."})}),(0,s.tZ)(tm.Z,{disabled:d,filter:function(e){return!w.find(function(t){return t.id===e.id})},excludeMultiplayer:!1,manualSelect:!0,onSelect:function(e){w.find(function(t){return t.id===e.id})||u({variables:{input:{replId:e.id}}})},showComboBox:!0}),w.length>0?(0,s.BX)(C.G,{css:tU.styles0,children:[(0,s.tZ)(x.h4,{level:3,variant:"subheadDefault",children:"Currently Authorized Repls"}),w.map(function(e){return e?(0,s.BX)(tf.Tg,{background:"higher",css:tU.styles1,children:[(0,s.BX)(C.G,{css:tU.styles2,children:[(0,s.tZ)(tp.Z,{size:16,alt:e.title,iconUrl:e.iconUrl}),(0,s.tZ)(x.xv,{multiline:!1,css:tU.styles3,children:e.title})]}),(0,s.tZ)(f.zx,{disabled:m,variant:"outlined",onClick:function(){return p({variables:{input:{replId:e.id}}})},text:"Remove"})]},e.id):null})]}):(0,s.tZ)("p",{children:"You haven't authorized any Repls yet."}),o?(0,s.tZ)(eo,{children:o}):null,"string"==typeof Z?(0,s.tZ)(eo,{children:Z}):null]})}var tT=n(46590),tG=n(93302),tS=n(63623),tI=n(6378),tP=n(32078);function tM(e){var t,n,r=e.billableMetric,i=(0,a._)((0,M.useState)(),2),o=i[0],s=i[1],c=(0,a._)((0,M.useState)(),2),u=c[0],d=c[1],h=(0,a._)((0,M.useState)(""),2),p=h[0],m=h[1],f=(n={},(0,l._)(n,P.oD.AutoscaleComputeSeconds,"ComputeUnits"),(0,l._)(n,P.oD.AccountDeploymentsEgress,"GiB"),(0,l._)(n,P.oD.AutoscaleRequests,"Requests"),(0,l._)(n,P.oD.NeonComputeTime,"ComputeHours"),(0,l._)(n,P.oD.NeonDataStorage,"GiB"),(0,l._)(n,P.oD.NeonDataTransfer,"GiB"),(0,l._)(n,P.oD.NeonWrittenData,"GiB"),n)[r],g=(0,tS.Ql)({fetchPolicy:"cache-and-network",ssr:!1,onCompleted:function(e){var t;if((null===(t=e.currentUser)||void 0===t?void 0:t.__typename)!=="CurrentUser"){d("Unexpected response");return}switch(e.currentUser.usageBasedBilling.__typename){case"UserUsageBasedBillingSummary":s(e.currentUser.usageBasedBilling),m(e.currentUser.username);break;case"UnauthorizedError":case"UserError":d(e.currentUser.usageBasedBilling.message);break;default:d("Unexpected response")}},onError:function(e){d(e.message)}}).loading,v=(0,M.useMemo)(function(){return(0,tP.lc)({billingPeriodSummary:null==o?void 0:o.currentBillingPeriod,billableMetric:r})},[o,r]),y=(0,M.useMemo)(function(){if(null==o?void 0:o.currentBillingPeriod){var e=new Date(o.currentBillingPeriod.billingPeriodEnd);if(e)return{long:e.toLocaleString("default",{month:"long",day:"numeric"}),short:e.toLocaleString("default",{month:"2-digit",day:"numeric"})}}},[o]),Z=null==o?void 0:null===(t=o.currentBillingPeriod)||void 0===t?void 0:t.totals.find(function(e){return e.billableMetric===r}),b=null==Z?void 0:Z.usage,x=null==Z?void 0:Z.freeUnits,w=null!=b&&null!=x?Math.max(b,x):void 0,C=null==Z?void 0:Z.overageCostsUSD,_=void 0;w&&0!==w?_="".concat((0,tG.fZ)(null!=b?b:0,{resourceUsageType:f,precision:1,skipUnits:!0})," / ").concat((0,tG.fZ)(w,{resourceUsageType:f,precision:1})):b&&(_="".concat((0,tG.fZ)(b,{resourceUsageType:f,precision:1})));var U=y?"Resets on ".concat(y.long):"",B=y?"Resets ".concat(y.short):"",T=tk({totalUsage:null!=b?b:void 0,totalFreeUnits:null!=x?x:void 0,overageCostsUSD:null!=C?C:void 0,resourceUsageType:f});return{username:p,loading:g,errorMessage:u,resourceSummary:v,resourceUsageType:f,totalUsageMessage:_,statusMessageLong:U,statusMessageShort:B,overageIndicator:T}}var tX=function(e){var t=e.context,n=e.title,r=e.titleShort,i=e.infoTooltipMessage,o=tM({billableMetric:e.billableMetric}),l=o.loading,a=o.totalUsageMessage,c=o.resourceSummary,u=o.resourceUsageType,d=o.username,h=o.statusMessageLong,p=o.errorMessage,m=o.overageIndicator;return(0,s.tZ)(tI.Z,{context:t,title:n,titleShort:r,infoTooltipMessage:i,totalUsageMessage:a,resourceSummary:c,resourceUsageType:u,username:d,statusMessage:h,errorMessage:p,loading:l,overageSummary:null==m?void 0:m.summary,overageIndicator:null==m?void 0:m.indicator})},tD=(0,er.X)({usage:[{fontWeight:S.TV.fontWeightBold}]}),tk=function(e){var t=e.totalUsage,n=e.totalFreeUnits,r=e.overageCostsUSD,i=e.resourceUsageType;if(null!=t&&null!=n&&null!=r&&(!(t<=n)||!(r<=0)))return{indicator:(0,s.BX)(x.xv,{color:"dimmer",children:[(0,s.tZ)(x.xv,{css:S.l0.color.accentPrimaryStrongest,children:"Limit depleted "}),"(",(0,tG.fZ)(Math.max(0,t),{resourceUsageType:i,precision:1,skipUnits:!0})," ","used)"]}),summary:(0,s.BX)(x.xv,{children:[(0,s.tZ)(x.xv,{css:tD.usage,children:(0,tG.fZ)(Math.max(0,t-n),{resourceUsageType:i,precision:1,additional:!0})})," ","(",Math.max(0,r).toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),") ",(0,s.tZ)(x.xv,{color:"dimmer",children:"this month so far"})]})}},tR=n(75928),tA=n(49996),tE=(0,er.X)({self:[S.l0.colWithGap(6)],header:[S.l0.flex.row,S.l0.rowWithGap(0),S.l0.flex.growAndShrink(1),S.l0.justify.spaceBetween,S.l0.align.baseline],title:[S.l0.flex.growAndShrink(0)],info:[S.l0.rowWithGap(4),S.l0.align.center],loader:[S.l0.justify.center,S.l0.flex.row],usage:[S.l0.flex.growAndShrink(0),S.l0.align.baseline,S.l0.flex.row],total:[S.l0.py(1),S.l0.flex.growAndShrink(0)],tooltipIcon:[(0,l._)({},(0,tA.EM)("mobileMax"),[S.l0.display.none])]}),tW=function(e){var t=e.context,n=e.title,r=e.billableMetric,i=e.infoTooltipMessage,o=tM({billableMetric:r}),l=o.loading,a=o.totalUsageMessage,c=o.resourceSummary,u=o.resourceUsageType,d=o.username,h=o.statusMessageShort,p=o.errorMessage,m=o.overageIndicator,f=(null==m?void 0:m.indicator)?m.indicator:a?(0,s.tZ)(x.xv,{variant:"small",color:"dimmer",css:tE.total,multiline:!1,children:a}):null;return(0,s.BX)(C.G,{css:tE.self,children:[(0,s.BX)(C.G,{css:tE.header,children:[(0,s.tZ)(x.xv,{variant:"small",color:"dimmest",css:tE.title,children:n}),(0,s.tZ)(C.G,{css:tE.info,children:l?(0,s.tZ)(C.G,{css:tE.loader,children:(0,s.tZ)(ex.Z,{size:12})}):(0,s.BX)(s.HY,{children:[(0,s.BX)(x.xv,{variant:"small",color:"dimmest",css:tE.usage,children:[f," \xa0\xa0",h]}),(0,s.tZ)(w.u,{tooltip:(0,s.tZ)(x.xv,{children:i}),children:(0,s.tZ)(B.Z,{css:tE.tooltipIcon,size:12})})]})})]}),p?(0,s.tZ)(Z.E,{colorway:"negative",text:p}):null,c?(0,s.tZ)(tR.$,{small:!0,summary:c,context:{type:"cycles_page"===t?t:"account_page"},username:d,resourceUsageType:u}):null]},r)},tN=(0,er.X)({header:[S.l0.rowWithGap(16),S.l0.align.center,S.l0.justify.spaceBetween,S.l0.mb(12),(0,l._)({},(0,tA.EM)("mobileMax"),[S.l0.flex.wrap])],main:[S.l0.rowWithGap(4),S.l0.align.center],title:[S.l0.display.flex,(0,l._)({},(0,tA.EM)("mobileMax"),[S.l0.display.none])],titleShort:[S.l0.display.none,(0,l._)({},(0,tA.EM)("mobileMax"),{display:"unset"})],tooltipIcon:(0,l._)({},(0,tA.EM)("mobileMax"),[S.l0.display.none]),items:[S.l0.colWithGap(12),S.l0.flex.growAndShrink(1)]}),tV=function(e){var t=e.context,n=e.title,r=e.titleShort,i=e.infoTooltipMessage,o=e.billableMetrics;return(0,s.BX)(s.HY,{children:[(0,s.tZ)(C.G,{tag:"header",css:tN.header,children:(0,s.BX)(C.G,{css:tN.main,children:[(0,s.tZ)(x.xv,{multiline:!1,variant:"subheadDefault",css:tN.title,children:n}),(0,s.tZ)(x.xv,{multiline:!1,variant:"subheadDefault",css:tN.titleShort,children:r}),(0,s.tZ)(w.u,{tooltip:(0,s.tZ)(x.xv,{children:i}),children:(0,s.tZ)(B.Z,{css:tN.tooltipIcon})})]})}),(0,s.tZ)(C.G,{css:tN.items,children:o.map(function(e){var n=e.title,r=e.billableMetric,i=e.infoTooltipMessage;return(0,s.tZ)(tW,{context:t,title:n,billableMetric:r,infoTooltipMessage:i},r)})})]})},tz=n(38213),tL=n(12912),tj=n(14986),tY=n(23211),tq=(0,er.X)({section:[S.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+S.TV.outlineDimmest}}],buttonLink:[S.l0.width("fit-content")],buttonContainer:[S.l0.p(16)]});function tO(e){var t=e.children;return(0,s.tZ)(C.G,{css:tq.section,children:t})}var t$=function(){var e=(0,h.P5)({controlName:tY.uZ,logFlagToAnalytics:!1});return(0,tz.A)()?(0,s.tZ)(C.G,{css:tq.buttonContainer,children:(0,s.tZ)(eZ.Z,{href:"/usage",variant:"outlined",text:"View Usage",iconLeft:(0,s.tZ)(tL.Z,{}),css:tq.buttonLink})}):(0,s.BX)(C.G,{children:[(0,s.tZ)(tO,{children:(0,s.tZ)(tX,{context:"account_resource_usage",billableMetric:P.oD.AutoscaleComputeSeconds,title:"Autoscale Deployments",titleShort:"Autoscale Deployments",infoTooltipMessage:"Usage of Autoscale Deployments is measured in compute units."})}),(0,s.tZ)(tO,{children:(0,s.tZ)(tX,{context:"account_resource_usage",billableMetric:P.oD.AccountDeploymentsEgress,title:"Deployments Outbound Data Transfer",titleShort:"Deployments Data Transfer",infoTooltipMessage:"Usage of Deployments Outbound Data Transfer is measured in bytes."})}),(0,s.tZ)(tO,{children:(0,s.tZ)(tX,{context:"account_resource_usage",billableMetric:P.oD.AutoscaleRequests,title:"Autoscale Incoming Requests",titleShort:"Autoscale Requests",infoTooltipMessage:"Usage of Autoscale Incoming Requests is measured in requests."})}),e?(0,s.tZ)(tO,{children:(0,s.tZ)(tV,{context:"account_resource_usage",title:"PostgreSQL Database",titleShort:"PostgreSQL Database",infoTooltipMessage:"Usage of PostgreSQL Databases are measured across the metrics listed below.",billableMetrics:[{title:"Compute time",titleShort:"Compute time",billableMetric:P.oD.NeonComputeTime,infoTooltipMessage:"The amount of compute resources used per hour."},{title:"Data storage",titleShort:"Data storage",billableMetric:P.oD.NeonDataStorage,infoTooltipMessage:"The volume of data and history stored."},{title:"Data transfer",titleShort:"Data transfer",billableMetric:P.oD.NeonDataTransfer,infoTooltipMessage:"The volume of data transferred out."},{title:"Written data",titleShort:"Written data",billableMetric:P.oD.NeonWrittenData,infoTooltipMessage:"The volume of data written from compute to storage."}]})}):null,(0,s.tZ)(tO,{children:(0,s.tZ)(tT.Z,{context:"account_resource_usage"})}),(0,s.tZ)(tO,{children:(0,s.tZ)(tj.r,{context:"account_page"})})]})},tF=n(25632),tH=n(60561),tQ=n(60769),tJ=n(10981),tK=(0,er.X)({preferencesContainer:[S.l0.colWithGap(24)],preference:[S.l0.rowWithGap(8),S.l0.justify.spaceBetween],labelTitle:[S.l0.fontWeight.medium]});function t0(){var e=(0,tF.Gn)("extraDelight"),t=e.preferences,n=e.update,r=(0,tH.$0)().fireCircularBurstFrom,i=(0,tJ.U)();return(0,s.tZ)(C.G,{css:tK.preferencesContainer,children:(0,s.BX)(C.G,{css:tK.preference,children:[(0,s.BX)(C.G,{tag:"label",htmlFor:i("delight"),children:[(0,s.tZ)(x.xv,{css:tK.labelTitle,children:"Extra delight mode"}),(0,s.tZ)(x.xv,{color:"dimmer",children:"Experience extra moments of joy"})]}),(0,s.tZ)(tQ.X,{id:i("delight"),checked:t.extraDelight,onChange:function(e){e.target.checked&&r({element:e.target}),n({extraDelight:e.target.checked})}})]})})}var t1=n(87279);function t2(){var e=(0,D._)(["\n  fragment AccountUserRolesCurrentUser on CurrentUser {\n    id\n    roles {\n      id\n      key\n    }\n  }\n"]);return t2=function(){return e},e}function t3(){var e=(0,D._)(["\n  mutation AccountUserRolesUpdateRole($role: UserRoles!, $flag: Boolean!) {\n    updateRole(role: $role, flag: $flag) {\n      ... on CurrentUser {\n        id\n        ...AccountUserRolesCurrentUser\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return t3=function(){return e},e}var t8={},t6=(0,k.Ps)(t2()),t9=(0,k.Ps)(t3(),t6),t4=(0,er.X)({rolesContainer:[S.l0.colWithGap(24),S.l0.align.stretch],role:[S.l0.rowWithGap(8),S.l0.align.center,S.l0.justify.spaceBetween],label:[S.l0.fontWeight.medium]});function t5(e){var t,n=e.currentUser,r=(0,a._)((0,M.useState)(null),2),i=r[0],o=r[1],l=n.roles.map(function(e){return e.key}),c=(0,a._)((t=(0,X._)({},t8,{onError:function(){return o("Something went wrong")},onCompleted:function(e){var t;(null===(t=e.updateRole)||void 0===t?void 0:t.__typename)==="UserError"?o(e.updateRole.message):o(null)}}),R.D(t9,t)),2),u=c[0],d=c[1].loading;return(0,s.BX)(C.G,{css:t4.rolesContainer,children:[[{name:"Explorer",role:P.SM.Explorer}].map(function(e){var t=e.name,n=e.role,r=l.includes(n);return(0,s.BX)(M.Fragment,{children:[(0,s.BX)(C.G,{css:t4.role,children:[(0,s.tZ)(x.xv,{color:r?"default":"dimmest",css:t4.label,children:t}),(0,s.tZ)(b.r,{isSelected:r,onChange:function(){d||u({variables:{role:n,flag:!r}})},"aria-labelledby":"toggle-explorer-role"})]}),n===P.SM.Explorer?(0,s.tZ)(Z.E,{icon:(0,s.tZ)(t1.Z,{}),colorway:"warning",text:"Explorers help Replit test new features, but sometimes we make mistakes. If something isn’t working right, please let us know. You can remove this role to hang up your explorer’s hat until we get things fixed."}):null]},n)}),i?(0,s.tZ)(eo,{children:i}):null]})}var t7=n(66587),ne=(0,er.X)({container:[S.l0.colWithGap(16)],row:[S.l0.rowWithGap(16),S.l0.justify.spaceBetween,S.l0.align.center],property:[S.l0.colWithGap(4)],label:[S.l0.fontWeight.medium]}),nt=function(e){var t=e.context,n=e.onSuccess,r=e.verifiedPhoneNumber;return r?(0,s.tZ)(C.G,{css:ne.container,children:(0,s.BX)(C.G,{css:ne.row,children:[(0,s.BX)(C.G,{css:ne.property,children:[(0,s.tZ)(x.xv,{css:ne.label,children:"Phone Number"}),(0,s.tZ)(x.xv,{children:r})]}),(0,s.tZ)(w.u,{placement:"left",tooltip:"Once verified, your phone number cannot be changed. Please contact support for assistance.",children:(0,s.tZ)(f.zx,{text:"Edit",iconLeft:(0,s.tZ)(U.Z,{}),variant:"outlined",disabled:!0})})]})}):(0,s.tZ)(t7.Z,{context:t,onSuccess:n,autoFocus:!1})},nn=n(75246),nr=n(79378),ni=n(27302),no=n(73764),nl=n(50946),na=n(80339),ns=n(84822),nc=n(58003),nu=n(46320),nd=n(13051),nh=n(28121),np=n(14024),nm=n(99656),nf=n(17054),ng=(0,er.X)({section:[S.l0.borderRadius(12)],self:[S.l0.colWithGap(8),S.l0.align.stretch,S.l0.position.relative],header:[S.l0.flex.row,S.l0.justify.spaceBetween,(0,l._)({},S.BC.max("mobileMax"),[S.l0.colWithGap(8)])],actions:[S.l0.align.center,S.l0.rowWithGap(8)],actionButton:[(0,l._)({},S.BC.max("mobileMax"),[{flexGrow:1}])],titleWrapper:[S.l0.rowWithGap(8),S.l0.align.baseline],linkAnchor:[{position:"absolute",top:"-80px"}]});function nv(e){var t=e.title,n=e.children,r=(0,nf.oM)();return(0,s.BX)(C.G,{css:ng.self,children:[(0,s.tZ)(C.G,{css:ng.linkAnchor,id:"themes"}),(0,s.BX)(C.G,{css:ng.header,children:[(0,s.BX)(C.G,{css:ng.titleWrapper,children:[(0,s.tZ)(x.xv,{variant:"subheadBig",id:t.toLowerCase(),multiline:!1,children:t}),(0,s.tZ)(np.Z,{feature:nh.l.Themes})]}),(0,s.BX)(C.G,{css:ng.actions,children:[(0,s.tZ)(eZ.Z,{dataCy:"browse-themes-button",iconLeft:(0,s.tZ)(ez.Z,{}),text:"Browse Themes",href:r.href,as:r.as,css:ng.actionButton}),(0,s.tZ)(eZ.Z,{dataCy:"create-theme-button",iconLeft:(0,s.tZ)(nm.Z,{}),text:"Create Theme",colorway:"primary",href:nf.ZS.href,as:nf.ZS.as,css:ng.actionButton})]})]}),(0,s.tZ)(tf.Tg,{elevated:!0,tag:"section",css:ng.section,children:n})]})}var ny=n(17507),nZ=n(44524);function nb(){var e=(0,D._)(["\n  fragment ThemesPreferencesCustomTheme on CustomTheme {\n    id\n    title\n    slug\n    hasUnpublishedChanges\n    isCurrentUserThemeAuthor\n    ...DeleteDialogTheme\n    colorScheme\n    isInstalledByCurrentUser\n    currentUserInstalledThemeVersion {\n      id\n      values {\n        ...ThemesThemeValues\n      }\n    }\n    author {\n      id\n      ...ThemesCustomThemeUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return nb=function(){return e},e}function nx(){var e=(0,D._)(["\n  fragment ThemesPreferencesInstalledTheme on InstalledTheme {\n    id\n    customTheme {\n      id\n      ...ThemesPreferencesCustomTheme\n    }\n  }\n  ","\n"]);return nx=function(){return e},e}var nw=(0,k.Ps)(nb(),ny.LX,nZ.x2,nZ.sj),nC=(0,k.Ps)(nx(),nw);function n_(){var e=(0,D._)(["\n  query ThemesPreferencesCustomPanelCurrentUser(\n    $authoredThemesInput: CurrentUserAuthoredThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n          title\n        }\n      }\n      editorPreferences {\n        theme\n      }\n      authoredThemes(input: $authoredThemesInput) {\n        ... on CustomThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesCustomTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return n_=function(){return e},e}var nU={},nB=(0,k.Ps)(n_(),nw),nT=n(3310),nG=(0,er.X)({self:[S.l0.colWithGap(12)]}),nS=function(){var e,t,n,r,i=(0,eg.Z)().showError,o=(0,tJ.U)(),l=(0,a._)((0,M.useState)({count:6}),2),c=l[0],u=l[1],d=(e=(0,X._)({},nU,{variables:{authoredThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return i(e.message)},onCompleted:function(e){var t,n=null===(t=e.currentUser)||void 0===t?void 0:t.authoredThemes;((null==n?void 0:n.__typename)==="UnauthorizedError"||(null==n?void 0:n.__typename)==="UserError")&&i(n.message)}}),A.a(nB,e)),h=d.data,p=d.loading,m=d.fetchMore,f=((null==h?void 0:null===(n=h.currentUser)||void 0===n?void 0:null===(t=n.authoredThemes)||void 0===t?void 0:t.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.items:[]).reduce(function(e,t){var n,r=null===(n=t.currentUserInstalledThemeVersion)||void 0===n?void 0:n.values;return void 0!==r?e.concat([(0,X._)({type:"custom",values:r},t)]):e},[]),g=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.authoredThemes.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.pageInfo:void 0,v={onPrevClick:function(){var e,t=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==t?void 0:t.__typename)==="CustomThemeConnection"&&t.pageInfo.hasPreviousPage&&void 0!==t.pageInfo.previousCursor&&(u(function(e){return(0,e1._)((0,X._)({},e),{after:t.pageInfo.previousCursor})}),m({variables:{authoredThemesInput:{count:6,after:t.pageInfo.previousCursor}},updateQuery:function(e,t){return t.fetchMoreResult}}))},onNextClick:function(){var e,t=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==t?void 0:t.__typename)==="CustomThemeConnection"&&t.pageInfo.hasNextPage&&void 0!==t.pageInfo.nextCursor&&(u(function(e){return(0,e1._)((0,X._)({},e),{after:t.pageInfo.nextCursor})}),m({variables:{authoredThemesInput:{count:6,after:t.pageInfo.nextCursor}},updateQuery:function(e,t){return t.fetchMoreResult}}))},hasNext:null==g?void 0:g.hasNextPage,hasPrev:null==g?void 0:g.hasPreviousPage};return(0,s.BX)(C.G,{css:nG.self,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Custom Themes"}),(0,s.tZ)(nT.Z,{name:o("custom-themes"),themes:f,paginationOptions:v,themesLoading:p,emptyText:"Themes you create will appear here.",refetchOptions:{queryDoc:nB,input:c}})]})};function nI(){var e=(0,D._)(["\n  query ThemesPreferencesInstalledPanelCurrentUser(\n    $installedThemesInput: CurrentUserInstalledThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n        }\n      }\n      editorPreferences {\n        theme\n      }\n      installedThemes(input: $installedThemesInput) {\n        ... on InstalledThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesInstalledTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return nI=function(){return e},e}var nP={},nM=(0,k.Ps)(nI(),nC),nX=(0,er.X)({self:[S.l0.colWithGap(12)]}),nD=function(){var e,t,n,r,i=(0,eg.Z)().showError,o=(0,tJ.U)(),l=(0,a._)((0,M.useState)({count:6}),2),c=l[0],u=l[1],d=(e=(0,X._)({},nP,{variables:{installedThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return i(e.message)},onCompleted:function(e){var t,n=null===(t=e.currentUser)||void 0===t?void 0:t.installedThemes;((null==n?void 0:n.__typename)==="UnauthorizedError"||(null==n?void 0:n.__typename)==="UserError")&&i(n.message)}}),A.a(nM,e)),h=d.data,p=d.loading,m=d.fetchMore,f=((null==h?void 0:null===(n=h.currentUser)||void 0===n?void 0:null===(t=n.installedThemes)||void 0===t?void 0:t.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.items:[]).reduce(function(e,t){var n,r=t.customTheme,i=null===(n=r.currentUserInstalledThemeVersion)||void 0===n?void 0:n.values;return void 0!==i?e.concat([(0,X._)({type:"custom",values:i},r)]):e},[]),g=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.installedThemes.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.pageInfo:void 0,v={onPrevClick:function(){var e,t=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==t?void 0:t.__typename)==="InstalledThemeConnection"&&t.pageInfo.hasPreviousPage&&void 0!==t.pageInfo.previousCursor&&(u(function(e){return(0,e1._)((0,X._)({},e),{after:t.pageInfo.previousCursor})}),m({variables:{installedThemesInput:{count:6,after:t.pageInfo.previousCursor}},updateQuery:function(e,t){return t.fetchMoreResult}}))},onNextClick:function(){var e,t=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==t?void 0:t.__typename)==="InstalledThemeConnection"&&t.pageInfo.hasNextPage&&void 0!==t.pageInfo.nextCursor&&(u(function(e){return(0,e1._)((0,X._)({},e),{after:t.pageInfo.nextCursor})}),m({variables:{installedThemesInput:{count:6,after:t.pageInfo.nextCursor}},updateQuery:function(e,t){return t.fetchMoreResult}}))},hasNext:null==g?void 0:g.hasNextPage,hasPrev:null==g?void 0:g.hasPreviousPage};return(0,s.BX)(C.G,{css:nX.self,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Installed from Community"}),(0,s.tZ)(nT.Z,{name:o("installed-themes"),themes:f,paginationOptions:v,themesLoading:p,emptyText:"Themes you install will appear here.",refetchOptions:{queryDoc:nM,input:c}})]})},nk=n(43349),nR=(0,er.X)({subsection:[S.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+S.TV.outlineDimmest}}]}),nA=function(){return(0,s.BX)(C.G,{children:[(0,s.tZ)(C.G,{css:nR.subsection,children:(0,s.tZ)(nk.Z,{})}),(0,s.tZ)(C.G,{css:nR.subsection,children:(0,s.tZ)(nS,{})}),(0,s.tZ)(C.G,{css:nR.subsection,children:(0,s.tZ)(nD,{})})]})},nE=function(){return(0,s.tZ)(nv,{title:"Themes",children:(0,s.tZ)(nA,{})})},nW=n(97458);function nN(){var e=(0,D._)(["\n  query AccountSettings {\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n      roles {\n        id\n        key\n      }\n      ...AccountProfileCurrentUser\n      ...AccountAccountCurrentUser\n      ...AccountBillingCurrentUser\n      ...AccountUserRolesCurrentUser\n      ...AccountEmailSettingsCurrentUser\n      ...AccountConnectedServicesCurrentUser\n      ...ReplIdentityCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return nN=function(){return e},e}var nV={},nz=(0,k.Ps)(nN(),ts,Y,eS,t6,ee,eH,tx),nL=(0,er.X)({page:[S.l0.flex.column,S.l0.px(16),S.l0.py(64),S.l0.pt(32),(r={marginBottom:"50vh",gap:S.TV.space32},(0,l._)(r,S.BC.max("mobileMax"),[S.l0.pt(24),{gap:S.TV.space16}]),(0,l._)(r,S.BC.max("tabletMax"),[S.l0.mb(0)]),r)],tabContainerTop:[e9.gU.listItem,S.l0.p(4),S.l0.rowWithGap(8),S.l0.borderRadius(8)],profilePicture:[S.l0.width(44),S.l0.height(44)],nameContainer:[S.l0.flex.column,S.l0.color.foregroundDefault],firstLastName:[S.l0.width(144),{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}],main:[S.l0.flex.row,S.l0.justify.center,(0,l._)({gap:S.TV.space32},S.BC.max("tabletMax"),[S.l0.pb(32),S.l0.flex.column,{gap:S.TV.space16}])],sectionContainer:[S.l0.colWithGap(32),(0,l._)({},S.BC.min("tabletMax"),S.l0.maxWidth(600))],loadingContainer:[S.l0.width(600),S.l0.maxWidth("100%"),S.l0.height(128),S.l0.center],tabContainerWrapper:[S.l0.colWithGap(8),S.l0.width(200),S.l0.position.sticky,S.l0.top(80),(i={alignSelf:"flex-start"},(0,l._)(i,S.BC.max("tabletMax"),[S.l0.width("100%"),S.l0.position.relative,S.l0.top("revert"),S.l0.mb(0)]),(0,l._)(i,S.BC.max("tabletMax"),[S.l0.display.none]),i)],tabContainerAccordion:[S.l0.mb(0),S.l0.mx(8),S.l0.shadow(1),S.l0.borderRadius(8),S.l0.zIndex(1),S.l0.position.sticky,S.l0.top(56),S.l0.overflow("hidden"),S.l0.border({color:S.TV.outlineDimmest}),(o={backgroundColor:e9.vb.interactiveBackground,"& > button":{padding:S.TV.space8,fontWeight:S.TV.fontWeightMedium,borderRadius:8}},(0,l._)(o,S.BC.min("tabletMax"),[S.l0.display.none]),(0,l._)(o,'button[aria-expanded="true"]',{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"1px solid ".concat(S.TV.outlineDimmest)}),o)],tabComponent:[e9.gU.listItem,S.l0.p(8),S.l0.display.flex,S.l0.borderRadius(8),S.l0.rowWithGap(8),S.l0.height(32),S.l0.align.center,{"&:hover":{color:S.TV.foregroundDefault},"&:hover > svg":{color:S.TV.foregroundDefault}}],tabComponentBorder:[S.l0.my(2),S.l0.mx(4),S.l0.height(1),S.l0.width("calc(100% - 8px)"),S.l0.backgroundColor.outlineDimmest],straightCorners:{"& a":S.l0.borderRadius(0)},roundedCorners:{"& a":S.l0.borderRadius(8)}}),nj=(0,er.X)({base:[nL.tabComponent,S.l0.backgroundColor.backgroundRoot,S.l0.color.foregroundDimmer,{"& > svg":S.l0.color.foregroundDimmest}],selected:[nL.tabComponent,S.l0.backgroundColor.backgroundDefault,S.l0.color.foregroundDefault,{"& > svg":S.l0.color.foregroundDefault}]}),nY=[{icon:(0,s.tZ)(nd.Z,{}),label:"Profile",href:"profile"},{icon:(0,s.tZ)(nc.Z,{}),label:"Account",href:"account"},{icon:(0,s.tZ)(_.Z,{}),label:"Verification",href:"verification"},{icon:(0,s.tZ)(nl.Z,{}),label:"Billing",href:"billing"},{icon:(0,s.tZ)(no.Z,{}),label:"Preferences",href:"preferences"},{icon:(0,s.tZ)(ni.Z,{}),label:"Roles",href:"roles"},{icon:(0,s.tZ)(nu.Z,{}),label:"Resource usage",href:"resource-usage"},{icon:(0,s.tZ)(ez.Z,{}),label:"Connected services",href:"connected-services"},{icon:(0,s.tZ)(na.Z,{}),label:"Repl identity",href:"repl-identity"},{icon:(0,s.tZ)(ns.Z,{}),label:"Themes",href:"themes"}],nq=function(e){var t=e.icon,n=e.label,r=e.href,i=e.selected,o=e.bottomBorder,l=e.onClick;return(0,s.BX)(s.HY,{children:[(0,s.tZ)(ti(),{legacyBehavior:!0,href:"#".concat(r),passHref:!0,children:(0,s.BX)("a",{onClick:l,css:i?nj.selected:nj.base,children:[t,(0,s.tZ)(x.xv,{color:"default",children:n})]})}),o?(0,s.tZ)(C.G,{css:nL.tabComponentBorder}):null]})};function nO(){var e,t=(e=(0,X._)({},nV,{ssr:!1}),A.a(nz,e)),n=t.data,r=t.refetch,i=null==n?void 0:n.currentUser,o=null==i?void 0:i.roles.some(function(e){return e.key===P.SM.PrivacyLimitedAccess}),l=(0,h.P5)({controlName:"flag-sms-verification",logFlagToAnalytics:!1}),c=(0,a._)((0,M.useState)(void 0),2),u=c[0],d=c[1];(0,M.useEffect)(function(){if(i){var e=window.location.hash;if(e&&e.startsWith("#")){var t=e.replace("#",""),n=document.getElementById(t);n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}}},[i]);var p=(0,a._)((0,M.useState)(!1),2),m=p[0],f=p[1],g=function(e){var t=e.straightCorners,n=function(e){d(e),f(!1)};return(0,s.tZ)(C.G,{css:t?nL.straightCorners:nL.roundedCorners,children:nY.map(function(e){if("repl-identity"===e.href&&!(null==i?void 0:i.hasReplitIdentityTesting)||"verification"===e.href&&!l)return null;var t="account"===e.href||"billing"===e.href||"connected-services"===e.href;return o&&t?null:(0,s.tZ)(nq,{icon:e.icon,label:e.label,href:e.href,bottomBorder:e.bottomBorder,selected:u===e.href,onClick:function(){return n(e.href)}},e.href)})})};return(0,s.tZ)(C.G,{css:nL.page,children:(0,s.BX)(C.G,{css:nL.main,children:[(0,s.BX)(C.G,{css:nL.tabContainerWrapper,children:[(0,s.tZ)(ti(),{legacyBehavior:!0,href:"/@".concat(null==i?void 0:i.username),passHref:!0,children:(0,s.tZ)("a",{children:(0,s.BX)(C.G,{css:nL.tabContainerTop,children:[(0,s.tZ)(nr.q,{size:48,css:nL.profilePicture,src:(null==i?void 0:i.image)||null,username:"".concat(null==i?void 0:i.username)}),(0,s.BX)(C.G,{css:nL.nameContainer,children:[(0,s.BX)(x.xv,{variant:"subheadDefault",color:"default",css:nL.firstLastName,children:[null==i?void 0:i.firstName," ",null==i?void 0:i.lastName]}),(0,s.tZ)(x.xv,{color:"dimmer",children:(null==i?void 0:i.username)?"@".concat(i.username):""})]})]})})}),(0,s.tZ)(g,{straightCorners:!1,showVerification:l})]}),(0,s.tZ)(nn.Q,{headerContent:"Jump to",css:nL.tabContainerAccordion,expanded:m,onClick:function(){return f(!m)},children:(0,s.tZ)(g,{straightCorners:!0,showVerification:l})}),(0,s.tZ)(C.G,{css:nL.sectionContainer,children:i?(0,s.BX)(s.HY,{children:[(0,s.tZ)(nF,{title:"Profile",id:"profile",setInView:d,children:(0,s.tZ)(th,{currentUser:i})}),(0,s.tZ)(nF,{title:"Account",id:"account",setInView:d,flush:!0,children:o?(0,s.tZ)(em,{currentUser:i}):(0,s.tZ)(eh,{currentUser:i})}),l?(0,s.tZ)(nF,{title:"Verification",id:"verification",setInView:d,children:(0,s.tZ)(nt,{context:P.jv.Voluntary,verifiedPhoneNumber:i.verifiedPhoneNumber,onSuccess:r})}):null,o?null:(0,s.tZ)(nF,{title:"Billing",id:"billing",setInView:d,flush:!0,children:(0,s.tZ)(eX,{currentUser:i})}),(0,s.tZ)(nF,{title:"Preferences",id:"preferences",setInView:d,children:(0,s.tZ)(t0,{})}),(0,s.tZ)(nF,{title:"Roles",id:"roles",setInView:d,children:(0,s.tZ)(t5,{currentUser:i})}),(0,s.tZ)(nF,{setInView:d,title:"Resource usage",id:"resource-usage",flush:!0,children:(0,s.tZ)(t$,{})}),o?null:(0,s.tZ)(nF,{title:"Connected services",id:"connected-services",setInView:d,children:(0,s.tZ)(e0,{currentUser:i})}),i.hasReplitIdentityTesting?(0,s.tZ)(nF,{title:"Repl identity",id:"repl-identity",setInView:d,children:(0,s.tZ)(tB,{})}):null," ",(0,s.tZ)(nF,{id:"themes",setInView:d,surface:!1,children:(0,s.tZ)(nE,{})})]}):(0,s.tZ)(C.G,{css:nL.loadingContainer,children:(0,s.tZ)(ex.Z,{size:20})})})]})})}var n$=(0,er.X)({sectionWrapper:[S.l0.position.relative,S.l0.colWithGap(8),(0,l._)({scrollMarginTop:108},S.BC.min("tabletMax"),{scrollMarginTop:80})],section:[S.l0.p(16),S.l0.borderRadius(12)],sectionFlush:[S.l0.borderRadius(12)],anchor:[S.l0.position.absolute,S.l0.top("50%"),S.l0.width(1),S.l0.height(1)]});function nF(e){var t=e.title,n=e.children,r=e.id,i=e.setInView,o=e.surface,l=e.flush,a=(0,M.useRef)(null),c=(0,nW.Y)(a,{margin:"-20% 0px -79% 0px"});(0,M.useEffect)(function(){c&&i(r)},[r,c,i]);var u=void 0===o||o?(0,s.tZ)(tf.Tg,{elevated:!0,tag:"section",css:l?n$.sectionFlush:n$.section,children:n}):(0,s.tZ)(C.G,{tag:"section",children:n});return(0,s.BX)(C.G,{css:n$.sectionWrapper,id:r,innerRef:a,children:[t?(0,s.tZ)(x.h4,{level:2,variant:"subheadBig",children:t}):null,u]})}},56971:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(66626),i=n(74985),o=n(85805),l=n(55534),a=n(43973),s=n(79378),c=n(74833),u=n(56596),d=n(93918),h=n(29287),p=n(50959),m=n(88205),f=(0,d.X)({dropContainer:[h.l0.position.relative,{width:96,height:96,textAlign:"center","& label":{transition:"0.25s"},"&:hover label":{opacity:1}}],overlayLabel:[h.l0.flex.row,h.l0.center,h.l0.backgroundColor.backgroundOverlay,h.l0.borderRadius("full"),h.l0.coverContainer,{opacity:0,position:"absolute",top:0,left:0,cursor:"pointer",zIndex:1}],uploadInput:{width:1,height:0,opacity:0,overflow:"hidden"}});function g(e){var t=e.currentUser,n=e.onChange,d=(0,l.Z)(),h=d.showError,g=d.showConfirm,v=(0,r._)((0,p.useState)(t.image),2),y=v[0],Z=v[1];(0,p.useEffect)(function(){return Z(t.image)},[t.image]);var b=(0,o.Z)({onUpload:function(e){return n({imageId:e.id})},onUploadPreview:function(e){Z(e.dataUrl),g("Uploading profile image")},onError:function(e){return h(e.message)}});return t.hasPrivacyRole?(0,i.tZ)(s.q,{size:96,src:y,username:t.username,fullName:t.fullName}):(0,i.BX)(u.G,{css:f.dropContainer,onDrop:function(e){e.preventDefault();var t,n,r=null===(n=e.dataTransfer)||void 0===n?void 0:null===(t=n.files)||void 0===t?void 0:t[0];if(r){if(!r.type.startsWith("image/"))return h("Expected an image file");b.uploadImage(r,m.N.ProfileImage)}},onDragOver:function(e){return e.preventDefault()},children:[(0,i.tZ)(s.q,{size:96,src:y,username:t.username,fullName:t.fullName}),(0,i.BX)("label",{css:f.overlayLabel,children:[(0,i.tZ)("input",{accept:a.W9.join(","),type:"file",onChange:function(e){var t=e.target,n=t.validity.valid,r=t.files;(null==r?void 0:r.length)&&n&&b.uploadImage(r[0],m.N.ProfileImage)},css:f.uploadInput}),(0,i.tZ)(c.xv,{variant:"small",multiline:!1,children:"Drag or upload"})]})]})}},14024:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(66626),i=n(74985),o=n(49344),l=n(28121),a=n(71144),s=function(e){var t=e.isOpen,n=e.setOpen,r=e.feature;return(0,i.tZ)(i.HY,{children:(0,i.tZ)(a.b5,{children:(0,i.tZ)(o.u,{isOpen:t,onRequestClose:function(){n(!1)},children:(0,i.tZ)(l.Z,{setFeedbackFormOpen:n,feature:r})})})})},c=n(74833),u=n(56596),d=n(29287),h=n(50959),p=function(e){var t=e.feature,n=(0,r._)((0,h.useState)(!1),2),o=n[0],l=n[1];return(0,i.BX)(i.HY,{children:[(0,i.tZ)(u.G,{onClick:function(){return l(!o)},children:(0,i.tZ)(c.xv,{multiline:!1,css:[d.l0.fontSize("inherit"),d.l0.color.accentPrimaryStronger,d.l0.cursor.pointer,{":hover":{color:d.TV.accentPrimaryStrongest}}],children:"Share feedback"})}),(0,i.tZ)(s,{feature:t,isOpen:o,setOpen:l})]})}},56231:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(41733),i=n(30509),o=n(66626),l=n(63257),a=n(74985),s=n(43312),c=n(31366),u=n(42308),d=n(6187),h=n(7444),p=n(57526),m=n(2161),f=n(93496),g=n(74833),v=n(56596),y=n(88936),Z=n(82723),b=n(29287),x=n(21371),w=n(50959),C=n(21262),_=n(71440),U=n(58995);function B(){var e=(0,C._)(["\n  fragment ReplSelectorRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    slug\n    owner {\n      ... on User {\n        id\n        username\n        image\n        fullName\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n    iconUrl\n    templateLabel\n  }\n"]);return B=function(){return e},e}function T(){var e=(0,C._)(["\n  query ReplSelector(\n    $search: String!\n    $excludePrivate: Boolean\n    $excludeMultiplayer: Boolean\n  ) {\n    currentUser {\n      id\n      replSearch(\n        search: $search\n        excludePrivate: $excludePrivate\n        excludeMultiplayer: $excludeMultiplayer\n      ) {\n        id\n        ...ReplSelectorRepl\n      }\n    }\n  }\n  ","\n"]);return T=function(){return e},e}var G={},S=(0,_.Ps)(B()),I=(0,_.Ps)(T(),S),P=v.K.input,M=v.K.div,X=v.K.li,D=(0,s.iv)([f.gU.filled,b.l0.p(8),{color:b.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:b.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:b.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}]);function k(e){var t,n,s,f=e.id,C=e.disabled,_=e.filter,B=e.manualSelect,T=e.excludePrivate,S=e.excludeMultiplayer,k=e.onSelect,R=e.selectedIconOverride,A=e.showComboBox,E=(0,o._)((0,w.useState)([]),2),W=E[0],N=E[1],V=(0,o._)((0,w.useState)(""),2),z=V[0],L=V[1],j=(0,w.useRef)(null),Y=_?W.filter(_):W,q=(0,x.Kb)({items:Y,initialHighlightedIndex:B?-1:0,itemToString:function(e){var t;return e?"".concat(null===(t=e.owner)||void 0===t?void 0:t.username,"/").concat(e.title):""}});(0,w.useEffect)(function(){return L(q.inputValue)},[q.inputValue]);var O=(t={variables:{search:(0,d.Z)(z,100),excludePrivate:T,excludeMultiplayer:S},onCompleted:function(e){if(!e.currentUser)throw Error("Expected currentUser");if(!e.currentUser.replSearch){N([]);return}N(e.currentUser.replSearch.reduce(function(e,t){return t?(0,l._)(e).concat([t]):e},[]))}},n=(0,r._)({},G,t),U.a(I,n)).loading,$=(0,h.Z)(k);(0,w.useEffect)(function(){var e;q.selectedItem&&(null===(e=j.current)||void 0===e||e.blur(),$.current(q.selectedItem))},[q.selectedItem,$]);var F=(null===(s=q.selectedItem)||void 0===s?void 0:s.iconUrl)&&q.inputValue?(0,a.tZ)(v.G,{css:[b.l0.px(8),b.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:R||(0,a.tZ)(m.ZP,{alt:q.selectedItem.title,iconUrl:q.selectedItem.iconUrl,size:16})}):null;return(0,a.BX)(v.G,{css:[{position:"relative"}],children:[(0,a.BX)(M,(0,i._)((0,r._)({},q.getComboboxProps()),{css:{position:"relative"},children:[F,(0,a.tZ)(P,(0,r._)({css:[D,b.l0.pr(32),F&&b.l0.pl(32)]},q.getInputProps({ref:j,id:f,placeholder:"Search for a Repl",onFocus:void 0===A||A?function(e){q.selectedItem&&(e.preventDefault(),e.currentTarget.select(),L("")),q.openMenu()}:void 0}))),(0,a.tZ)(v.G,{css:[b.l0.center,b.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:(0,a.tZ)(Z.Z,{})})]})),(0,a.tZ)(M,(0,i._)((0,r._)({},q.getMenuProps()),{css:{position:"relative"},children:q.isOpen&&!C?(0,a.BX)(c.Z,{children:[O?(0,a.tZ)(X,{css:[b.l0.center,b.l0.py(32)],children:(0,a.tZ)(y.Z,{})}):null,Y.length||O?null:(0,a.tZ)(X,{css:[b.l0.center,b.l0.py(32)],children:(0,a.BX)(g.xv,{color:"dimmer",variant:"small",multiline:!1,children:["No ",W.length>0?"more ":null,"repls found"]})}),Y.map(function(e,t){return(0,a.tZ)(X,(0,i._)((0,r._)({},q.getItemProps({item:e,index:t})),{children:(0,a.tZ)(u.Z,{taller:!0,filter:z,title:e.title,subtitle:(0,p.F)(e.timeUpdated),selected:q.selectedItem===e,highlighted:q.highlightedIndex===t,icon:e.iconUrl?(0,a.tZ)(m.ZP,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)})]}):null}))]})}},46590:function(e,t,n){var r=n(27387),i=n(66626),o=n(96583),l=n(74985),a=n(93302),s=n(38213),c=n(50959),u=n(84874),d=n(6378),h=n(32078);t.Z=function(e){var t,n=e.context,p=e.title,m=e.titleShort,f=(0,s.A)(),g=(0,i._)((0,c.useState)(),2),v=g[0],y=g[1],Z=(0,i._)((0,c.useState)(),2),b=Z[0],x=Z[1],w=(0,i._)((0,c.useState)(!1),2),C=w[0],_=w[1],U=(0,i._)((0,c.useState)(""),2),B=U[0],T=U[1],G=function(e){var t;if((null===(t=e.currentUser)||void 0===t?void 0:t.__typename)!=="CurrentUser"){x("Unexpected response");return}switch(e.currentUser.egress.__typename){case"UserEgressSummary":y(e.currentUser.egress),T(e.currentUser.username);break;case"UnauthorizedError":case"UserError":x(e.currentUser.egress.message);break;default:x("Unexpected response")}},S=(0,u.FX)({onCompleted:G,onError:function(e){x(e.message)}}),I=S.loading,P=S.refetch,M=(t=(0,r._)(function(){var e;return(0,o.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,P()];case 1:return(e=t.sent()).error?x(e.error.message):e.errors?x("Something unexpected happened, please try again"):G(e.data),[3,3];case 2:return x(t.sent().message),[3,3];case 3:return[2]}})}),function(){return t.apply(this,arguments)}),X=v?Number(v.monthly.usage):0,D=v?Number(v.monthly.limit):0,k=v?(0,h._4)(v.monthly):void 0,R="Bytes",A=0!==D?"".concat((0,a.fZ)(X,{forceGib:!0,precision:1,skipUnits:!0,resourceUsageType:R})," / ").concat((0,a.fZ)(D,{forceGib:!0,precision:1,resourceUsageType:R})):"".concat((0,a.fZ)(X,{precision:1,resourceUsageType:R})),E=v&&v.monthly.isThrottled?"Bandwidth for your Repls is being throttled. Increase\n        your limit to resume normal speeds.":void 0,W="Resets on ".concat(null==v?void 0:v.monthly.resets),N=!v||v.monthly.showUpgrade||v.monthly.isEnforced?void 0:"Limit not yet enforced";return(0,l.tZ)(d.Z,{context:n,title:void 0===p?"Outbound Data Transfer":p,titleShort:void 0===m?"Data Transfer":m,infoTooltipMessage:"Similar to bandwidth, outbound data transfer is the amount\n      of data that our servers send to your Repls' users and\n      external services.",totalUsageMessage:A,throttlingTooltipMessage:E,resourceSummary:k,resourceUsageType:R,username:B,statusMessage:W,errorMessage:b,loading:I,upgradeModalProps:f?void 0:{showUpgradeModal:C,setShowUpgradeModal:_,onPotentialLimitChange:M,limitEnforcementMessage:N}})}},6378:function(e,t,n){var r=n(42516),i=n(74985),o=n(25491),l=n(1498),a=n(37951),s=n(38080),c=n(74833),u=n(30983),d=n(56596),h=n(93918),p=n(97615),m=n(88936),f=n(99656),g=n(20573),v=n(29287),y=n(49996),Z=n(75928),b=(0,h.X)({self:[v.l0.colWithGap(12),v.l0.flex.growAndShrink(1)]});t.Z=function(e){var t=e.context,n=e.title,h=e.titleShort,x=e.infoTooltipMessage,w=e.totalUsageMessage,C=e.throttlingTooltipMessage,_=e.resourceSummary,U=e.resourceUsageType,B=e.username,T=e.statusMessage,G=e.placeholderMessage,S=e.errorMessage,I=e.loading,P=e.upgradeModalProps,M=e.overageSummary,X=e.overageIndicator;return(0,i.BX)(s.Tg,{css:b.self,children:[I?(0,i.tZ)(d.G,{css:[v.l0.justify.center,v.l0.flex.row],children:(0,i.tZ)(m.Z,{})}):null,S?(0,i.tZ)(a.E,{colorway:"negative",text:S}):null,_?(0,i.BX)(i.HY,{children:[(0,i.BX)(d.G,{tag:"header",css:[v.l0.rowWithGap(16),v.l0.align.center,v.l0.justify.spaceBetween,(0,r._)({},(0,y.EM)("mobileMax"),[v.l0.flex.wrap])],children:[(0,i.BX)(d.G,{css:[v.l0.rowWithGap(4),v.l0.align.center],children:[(0,i.tZ)(c.xv,{multiline:!1,variant:"subheadDefault",css:[v.l0.display.flex,(0,r._)({},(0,y.EM)("mobileMax"),[v.l0.display.none])],children:n}),(0,i.tZ)(c.xv,{multiline:!1,variant:"subheadDefault",css:[v.l0.display.none,(0,r._)({},(0,y.EM)("mobileMax"),{display:"unset"})],children:h}),(0,i.tZ)(u.u,{tooltip:(0,i.tZ)(c.xv,{children:x}),children:(0,i.tZ)(p.Z,{css:[(0,r._)({},(0,y.EM)("mobileMax"),[v.l0.display.none])]})})]}),(0,i.BX)(d.G,{css:[v.l0.rowWithGap(4),v.l0.align.center],children:[C?(0,i.tZ)(u.u,{tooltip:(0,i.tZ)(c.xv,{children:C}),children:(0,i.tZ)(g.Z,{color:"red"})}):null,X||(0,i.tZ)(i.HY,{children:w?(0,i.tZ)(c.xv,{color:"dimmer",css:[v.l0.py(1)],multiline:!1,children:w}):null})]})]}),(0,i.tZ)(d.G,{children:(0,i.tZ)(Z.$,{summary:_,context:{type:"cycles_page"===t?t:"account_page"},username:B,resourceUsageType:U})}),M?(0,i.tZ)(d.G,{children:M}):null,G?(0,i.tZ)(d.G,{children:(0,i.tZ)(c.xv,{color:"dimmest",children:G})}):null,T||P?(0,i.BX)(d.G,{tag:"footer",css:[v.l0.rowWithGap(16),v.l0.justify.spaceBetween,v.l0.align.center],children:[T?(0,i.tZ)(c.xv,{color:"dimmest",multiline:!1,children:T}):null,P?(0,i.BX)(i.HY,{children:[(0,i.tZ)(l.zx,{colorway:"primary",text:"Increase Limit",iconLeft:(0,i.tZ)(f.Z,{}),onClick:function(){return P.setShowUpgradeModal(!P.showUpgradeModal)}}),P.limitEnforcementMessage?(0,i.tZ)(c.xv,{color:"dimmest",multiline:!1,children:P.limitEnforcementMessage}):null]}):null]}):null]}):null,P?(0,i.tZ)(o.Z,{isOpen:P.showUpgradeModal,context:t,powerUp:"egress",uponPurchaseGoTo:"account_resource_usage"===t?"account":"cyclesPage",onRequestClose:function(){P.setShowUpgradeModal(!1),P.onPotentialLimitChange()}}):null]})}},19089:function(e,t,n){n.d(t,{S:function(){return m}});var r=n(74985),i=n(89960),o=n(97764),l=n(71411),a=n(15146),s=n(74833),c=n(56596),u=n(93918),d=n(40102),h=n(29287),p=(0,u.X)({paymentMethodFormContainer:[h.l0.colWithGap(16)],paymentMethodFormHeader:[h.l0.rowWithGap(8),h.l0.align.center]});function m(){var e=(0,l.P)({step:"card_preferences"}),t=e.currentStep,n=e.goBack,u=e.goTo;switch(t.step){case"card_preferences":return(0,r.tZ)(i.t,{goToNewPaymentMethodForm:function(){return u({step:"new_payment_method_form"})},showUsageSettingsBudget:!0});case"new_payment_method_form":return(0,r.BX)(c.G,{css:p.paymentMethodFormContainer,children:[(0,r.BX)(c.G,{css:p.paymentMethodFormHeader,children:[(0,r.tZ)(a.hU,{alt:"Back",onClick:n,children:(0,r.tZ)(d.Z,{})}),(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,r.tZ)(o.q,{onSuccess:n,context:"account_page"})]})}}},14986:function(e,t,n){n.d(t,{r:function(){return L}});var r=n(41733),i=n(30509),o=n(66626),l=n(74985),a=n(50959),s=n(93918),c=n(29287),u=n(38080),d=n(74833),h=n(56596),p=n(47957),m=n(93302),f=n(75928),g=n(88936),v=n(32078),y=n(25491),Z=n(75582),b=n(5542),x=n(70002),w=n(16166),C=n(91612),_=n(23291),U=n(34785),B=n(52682),T=n(15146),G=(0,s.X)({self:[c.l0.rowWithGap(4),c.l0.align.center]}),S=function(e){var t=I(e),n=t.quotaText,r=t.attribution;return(0,l.BX)(h.G,{css:G.self,children:[(0,l.tZ)(d.xv,{color:"dimmer",children:n}),(0,l.tZ)(_.D,{text:r}),"sku"in e?(0,l.tZ)(T.hU,{onClick:e.onRequestDelete,alt:"Remove add-on storage",children:(0,l.tZ)(B.Z,{})}):null]})},I=function(e){if("sku"in e)return{quotaText:"+".concat(C.zd[e.sku],"GiB"),attribution:"Add-on"};var t=e.userSubscriptionType,n=t?C.XR[t]:C.XR.FREE;return{quotaText:"".concat(n,"GiB"),attribution:(0,U.s)(t)}},P=n(74593),M=n(55534),X=n(49344),D=n(1498),k=n(32377),R=n(25680),A=n(37951),E=n(20573),W=(0,s.X)({self:[c.l0.rowWithGap(16),c.l0.justify.spaceBetween,c.l0.align.center],quotaBreakdownAndActions:[c.l0.rowWithGap(12)],deleteModalActions:[c.l0.rowWithGap(12),c.l0.justify.end],deleteModalContent:[c.l0.colWithGap(12)],deleteModal:[c.l0.colWithGap(16)]}),N=function(e){var t=e.username,n=e.setShowUpgradeModal,s=e.userSubscriptionType,c=e.currentSku,u=e.quotaInBytes,m=e.totalInBytes,f=(0,M.Z)(),g=f.showError,v=f.showConfirm,y=(0,o._)((0,a.useState)(!1),2),_=y[0],U=y[1],B=(0,o._)((0,P.iE)({onError:function(e){return g(e.message)},onCompleted:function(e){if("ManageStorageAddOnOutput"!==e.manageStorageAddOn.__typename){g(e.manageStorageAddOn.message);return}v("Storage add-on removed."),U(!1)},refetchQueries:[p.P1]}),2),T=B[0],G=B[1].loading,I=s===Z.HP.HackerPro,N=!!c&&u-C.zd[c]*C.lb<m;return(0,l.BX)(h.G,{css:W.self,children:[(0,l.tZ)(x.Z,(0,i._)((0,r._)({},(0,b.Ru)(t)),{text:"Manage Repls"})),(0,l.BX)(h.G,{css:W.quotaBreakdownAndActions,children:[(0,l.tZ)(S,{userSubscriptionType:s}),c?(0,l.tZ)(S,{sku:c,onRequestDelete:function(){return U(!0)}}):null,(0,l.tZ)(w.U,{isPro:I,setShowUpgradeModal:n,source:"account_storage_footer_upgrade_button"})]}),c?(0,l.tZ)(X.u,{centered:!0,isOpen:_,onRequestClose:function(){return U(!1)},children:(0,l.BX)(h.G,{css:W.deleteModal,children:[(0,l.BX)(d.xv,{variant:"headerDefault",children:["Remove ",C.zd[c],"GiB additional storage?"]}),(0,l.BX)(h.G,{css:W.deleteModalContent,children:[(0,l.BX)(d.xv,{children:["This additional storage costs ",(0,C.d_)(c)," ","Cycles (",(0,R.b)(c),") per month."]}),N?(0,l.tZ)(A.E,{colorway:"orange",icon:(0,l.tZ)(E.Z,{}),text:"You’re using more storage than the amount this change will give you. You won’t be able to add new files unless you delete existing files."}):null]}),(0,l.BX)(h.G,{css:W.deleteModalActions,children:[(0,l.tZ)(D.zx,{text:"Cancel"}),(0,l.tZ)(D.zx,{loading:G,colorway:"primary",text:"Yes, remove storage",iconLeft:(0,l.tZ)(k.Z,{}),onClick:function(){T({variables:{input:{setting:Z.F$.Off}}})}})]})]})}):null]})},V=n(85838),z=(0,s.X)({self:[c.l0.colWithGap(12),c.l0.flex.growAndShrink(1)],loadingWrapper:[c.l0.center],errorMessage:[c.l0.width("100%"),c.l0.center,{alignSelf:"center",justifySelf:"center"}],header:[c.l0.rowWithGap(16),c.l0.align.center,c.l0.justify.spaceBetween],footerActions:[c.l0.rowWithGap(8),c.l0.justify.spaceBetween,c.l0.align.center]}),L=function(e){var t=e.context,n=e.title,s=(0,o._)((0,a.useState)(!1),2),c=s[0],b=s[1],x=(0,p.Pf)({fetchPolicy:"network-only",ssr:!1,notifyOnNetworkStatusChange:!0}),w=x.data,_=x.loading,U=x.refetch;if(_&&!w)return(0,l.tZ)(u.Tg,{css:z.self,children:(0,l.tZ)(h.G,{css:z.loadingWrapper,children:(0,l.tZ)(g.Z,{})})});if(w&&(null===(B=w.currentUser)||void 0===B?void 0:B.__typename)==="CurrentUser"&&"StorageQuota"===w.currentUser.storageInfo.storageQuota.__typename&&"StorageGracePeriodQuota"===w.currentUser.storageInfo.storageGracePeriodQuota.__typename&&"AccountStorageUtilization"===w.currentUser.storageInfo.accountStorageUtilization.__typename&&"UserPowerUpsTypes"===w.currentUser.userPowerUpsByType.__typename){var B,T,G,S=w.currentUser.storageInfo,I=S.accountStorageUtilization,P=S.storageQuota.quota,M=I.total,X="Bytes",D="".concat((0,m.fZ)(Number(M),{forceGib:!0,precision:1,resourceUsageType:X})),k=null!==(T=w.currentUser.userSubscriptionType)&&void 0!==T?T:void 0,R=null!==(G=w.currentUser.userPowerUpsByType.storage.currentSku)&&void 0!==G?G:void 0,A=k===Z.HP.HackerPro?C.CU:C.tC,E=R?Number(P):A,W=0===E?D:"".concat(D," / ").concat((0,m.fZ)(E,{forceGib:!0,precision:1,resourceUsageType:X})),L=w.currentUser.username;return(0,l.BX)(u.Tg,{css:z.self,children:[(0,l.BX)(h.G,{css:z.header,children:[(0,l.tZ)(d.xv,{variant:"subheadDefault",multiline:!1,children:void 0===n?"Storage":n}),(0,l.tZ)(d.xv,{color:"dimmer",multiline:!1,children:W})]}),(0,l.tZ)(f.$,{context:{type:t},summary:(0,v._4)((0,i._)((0,r._)({},I),{quota:E.toString()})),username:L,resourceUsageType:X}),(0,l.tZ)(V.q,{}),(0,l.tZ)(N,{username:L,setShowUpgradeModal:b,userSubscriptionType:k,currentSku:R,quotaInBytes:Number(E),totalInBytes:Number(M)}),(0,l.tZ)(y.Z,{isOpen:c,context:t,powerUp:"storage",uponPurchaseGoTo:"account",onRequestClose:function(){U(),b(!1)}})]})}return(0,l.BX)(h.G,{css:z.self,children:[(0,l.tZ)(j,{total:"0"}),(0,l.tZ)(h.G,{css:z.errorMessage,children:(0,l.tZ)(d.xv,{color:"dimmest",multiline:!1,children:"We had trouble loading your storage information. Please try again later."})})]})},j=function(e){var t=e.total;return(0,l.BX)(h.G,{css:z.header,children:[(0,l.tZ)(d.xv,{variant:"subheadDefault",multiline:!1,children:"Storage"}),(0,l.tZ)(d.xv,{color:"dimmer",multiline:!1,children:(0,m.fZ)(Number(t),{forceGib:!0,resourceUsageType:"Bytes"})})]})}}}]);
//# sourceMappingURL=2858-b1d4f3bde038283d.js.map